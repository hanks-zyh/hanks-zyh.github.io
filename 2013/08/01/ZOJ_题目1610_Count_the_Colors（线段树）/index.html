<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ZOJ 题目1610 Count the Colors（线段树） | Hanks.xyz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="article">
<meta property="og:title" content="ZOJ 题目1610 Count the Colors（线段树）">
<meta property="og:url" content="http://hanks.xyz/2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/index.html">
<meta property="og:site_name" content="Hanks.xyz">
<meta property="og:description">
<meta property="og:updated_time" content="2015-12-04T17:20:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZOJ 题目1610 Count the Colors（线段树）">
<meta name="twitter:description">
  
  
    <link rel="icon" href="/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <link href="//fonts.useso.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link href='//fonts.useso.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">Hanks.xyz</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about/index.html">关于</a>
        
          <a class="main-nav-link" href="/collections">收集</a>
        
          <a class="main-nav-link" href="/atom.xml">RSS</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/hanks-zyh" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about/index.html" class="mobile-nav-link">关于</a>
  
    <a href="/collections" class="mobile-nav-link">收集</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
  </div>
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">关于我</h3>
    <div class="widget ">
      <p>90后,Android开发,正在学习的东西python,js,react-native....</p>
      <div class="me">
              <div class="me-item">
                  <a href="http://weibo.com/u/2359002991"><img src="http://hkcoding.sinaapp.com/static/images/ico_05_1.jpg" style="width:40px;height:40px"></a>
                  <p>微博</p>
              </div>
              <div class="me-item">
                  <a href="http://www.zhihu.com/people/yuhan-zhang-36"><img src="http://hkcoding.sinaapp.com/static/images/ico_zhihu.png" style="width:40px;height:40px"></a>
                  <p>知乎</p>
              </div>
                 <div class="me-item">
                 <a href="http://hanks.xyz/atom.xml"> <img src="http://hkcoding.sinaapp.com/static/images/ico_04_1.jpg" style="width:40px;height:40px"></a>
                  <p>RSS</p>
              </div>
      </div>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">最新发布</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/01/05/android-myhotfix/">Android 动手实现热修复</a>
          </li>
        
          <li>
            <a href="/2016/01/03/android-hotfix/">Android 热修复总结</a>
          </li>
        
          <li>
            <a href="/2015/12/31/2015/">2015回顾@hanks</a>
          </li>
        
          <li>
            <a href="/2015/12/30/snowfall/">Android 下雪动画</a>
          </li>
        
          <li>
            <a href="/2015/12/30/react-zhihu/">React-Native 知乎日报首页</a>
          </li>
        
          <li>
            <a href="/2015/12/29/react-userinfo/">React-Native 练习用户信息界面</a>
          </li>
        
          <li>
            <a href="/2015/12/29/react-viewpager/">React-Native 实现Android中的ViewPager</a>
          </li>
        
          <li>
            <a href="/2015/12/24/react-navigator/">React-Native 的Navigator控制界面跳转</a>
          </li>
        
          <li>
            <a href="/2015/12/23/react-network/">React-Native 网络请求</a>
          </li>
        
          <li>
            <a href="/2015/12/22/react-components/">React-Native 组件练习-购物app侧滑菜单</a>
          </li>
        
          <li>
            <a href="/2015/12/21/react-flexbox/">React-Native中的布局</a>
          </li>
        
          <li>
            <a href="/2015/12/18/atom-nuclide/">Atom安装Nuclide</a>
          </li>
        
          <li>
            <a href="/2015/12/18/react-native-UIExplorer/">运行React-Native例子UIExplorer</a>
          </li>
        
          <li>
            <a href="/2015/12/15/react-native-start-md/">Ubuntu进行 React-Native 的开发</a>
          </li>
        
          <li>
            <a href="/2015/12/08/refactoring-plaid-1/">重构 Plaid app - 响应式的MVP模式(一)</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/">Android</a> <a href="/tags/Atom/">Atom</a> <a href="/tags/Java/">Java</a> <a href="/tags/OS-X/">OS X</a> <a href="/tags/React-Native/">React-Native</a> <a href="/tags/Refactoring/">Refactoring</a> <a href="/tags/Rx/">Rx</a> <a href="/tags/RxJava/">RxJava</a> <a href="/tags/Rxandroid/">Rxandroid</a> <a href="/tags/Rxjava/">Rxjava</a> <a href="/tags/Ubuntu/">Ubuntu</a> <a href="/tags/mac-os/">mac os</a> <a href="/tags/virtualBox/">virtualBox</a> <a href="/tags/必备知识/">必备知识</a> <a href="/tags/热修复/">热修复</a>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <div class="widget">
     <iframe width="100%" height="200" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=0&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=1&uid=2359002991&verifier=05864e99&colors=4ABC88,ffffff,2C3E50,4ABC88,ecfbfd&dpc=1"></iframe>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/hanks-zyh">hanks-zyh</a>
          </li>
        
          <li>
            <a href="http://kiya.space">kiya-z</a>
          </li>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>


  
</aside>
        
        <section id="main" class="mdl-shadow--2dp"><article id="post-ZOJ_题目1610_Count_the_Colors（线段树）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/" class="article-date">
  <time datetime="2013-08-01T14:08:00.000Z" itemprop="datePublished">2013-08-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ZOJ 题目1610 Count the Colors（线段树）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<center>
<h2><span class="bigProblemTitle"><span style="color:#3366ff">Count the Colors</span></span></h2>
</center>
<h2>
<hr>
</h2>
<p>&nbsp;</p>
<center><span style="color:green">Time Limit: </span>2 Seconds &nbsp;&nbsp;&nbsp;&nbsp; <span style="color:green">
Memory Limit: </span>65536 KB </center>
<hr>
<p>Painting some colored segments on a line, some previously painted segments may be covered by some the subsequent ones.</p>
<p>Your task is counting the segments of different colors you can see at last.</p>
<p><br>
<strong>Input<br>
</strong><br>
The first line of each data set contains exactly one integer n, 1 &lt;= n &lt;= 8000, equal to the number of colored segments.</p>
<p>Each of the following n lines consists of exactly 3 nonnegative integers separated by single spaces:<br>
<br>
x1 x2 c<br>
<br>
x1 and x2 indicate the left endpoint and right endpoint of the segment, c indicates the color of the segment.</p>
<p>All the numbers are in the range [0, 8000], and they are all integers.</p>
<p>Input may contain several data set, process to the end of file.</p>
<p><br>
<strong>Output</strong><br>
<br>
Each line of the output should contain a color index that can be seen from the top, following the count of the segments of this color, they should be printed according to the color index.</p>
<p>If some color can't be seen, you shouldn't print it.</p>
<p>Print a blank line after every dataset.</p>
<p><br>
<strong>Sample Input</strong><br>
<br>
5<br>
0 4 4<br>
0 3 1<br>
3 4 2<br>
0 2 2<br>
0 2 3<br>
4<br>
0 1 1<br>
3 4 1<br>
1 3 2<br>
1 3 1<br>
6<br>
0 1 0<br>
1 2 1<br>
2 3 1<br>
1 2 0<br>
2 3 0<br>
1 2 1</p>
<p><br>
<strong>Sample Output</strong><br>
<br>
1 1<br>
2 1<br>
3 1</p>
<p>1 1</p>
<p>0 2<br>
1 1</p>
<p>&nbsp;</p>
<p>没有使用线段树的代码：因为8000比较小，不然会超时</p>
<p>&nbsp;</p>
<pre class="cpp" name="code">#include&quot;stdio.h&quot;
#include&lt;string.h&gt;

int main()
{
	int tree[8010];
	int finalcolor[8010];
	int n,i,j;
	int ls,rs,c;//临时的表示当前输入数据的左右范围及颜色 
	int rmax;//表示总的最右边界 
	while(scanf(&quot;%d&quot;,&amp;n)!=EOF)
	{

		memset(tree,-1,sizeof(tree));
		rmax = 0;
		while(n--)//输入n个颜色,及其染色范围 
		{
			scanf(&quot;%d%d%d&quot;,&amp;ls,&amp;rs,&amp;c);
			if(rs&gt;rmax) rmax = rs;//从1开始的下标中存放的值表示前面一单位段的颜色 
			for(j=ls+1;j&lt;=rs;j++)//后来输入的颜色会直接覆盖前面的颜色 
				tree[j] = c;
			
		}

		
		memset(finalcolor,0,sizeof(finalcolor));

		
		int k;
		j=0;
		finalcolor[tree[1]]=1;
		for(i=2;i&lt;=rmax;i++)
		{	
			if(tree[i]==tree[i-1]) continue;	 
			finalcolor[tree[i]]++;
	
		}//for
		
		for(i=0;i&lt;=8002;i++)
		{
			if(finalcolor[i])
				printf(&quot;%d %d\n&quot;,i,finalcolor[i]);
		} 
		printf(&quot;\n&quot;);
		
	}//while
	return 0;
}











/*
1
1 2 55

5
0 4 4
0 3 1
3 4 2
0 2 2
0 2 3
4
0 1 1
3 4 1
1 3 2
1 3 1
6
0 1 0
1 2 1
2 3 1
1 2 0
2 3 0
1 2 1
3
1 2 3
1 2 2
1 2 1

*/</pre>
<p><br>
&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>

  
  
</article>

  
<section id="comments">
    <!-- 多说分享框 -->
    <div class="ds-share flat" data-thread-key="/2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/" data-title="ZOJ 题目1610 Count the Colors（线段树）" data-images="https://raw.githubusercontent.com/Hankiya/LoveOnline/master/Rich%20Format%20Vertical.png" data-content="ZOJ 题目1610 Count the Colors（线段树）" data-url="http://hanks.xyz//2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">

      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
   </div>
    <!-- 多说评论框 start -->
   	<div class="ds-thread" data-thread-key="/2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/" data-title="ZOJ 题目1610 Count the Colors（线段树）" data-url="http://hanks.xyz//2013/08/01/ZOJ_题目1610_Count_the_Colors（线段树）/"></div>
   <!-- 多说评论框 end -->
   <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
   <script type="text/javascript">
   var duoshuoQuery = {short_name:"hanks-zyh"};
   	(function() {
   		var ds = document.createElement('script');
   		ds.type = 'text/javascript';ds.async = true;
   		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
   		ds.charset = 'UTF-8';
   		(document.getElementsByTagName('head')[0]
   		 || document.getElementsByTagName('body')[0]).appendChild(ds);
   	})();
   	</script>
   <!-- 多说公共JS代码 end -->
</section>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer footer_center">
    <div id="footer-info" class="inner">
      &copy; 2016 Hanks<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
  </br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    </div>
  </div>
</footer>

    </div>
    

<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/jquery.scrollLoading.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
