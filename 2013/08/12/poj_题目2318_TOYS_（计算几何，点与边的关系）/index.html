<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>poj 题目2318 TOYS （计算几何，点与边的关系） | Hanks.xyz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="article">
<meta property="og:title" content="poj 题目2318 TOYS （计算几何，点与边的关系）">
<meta property="og:url" content="http://hanks.xyz/2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/index.html">
<meta property="og:site_name" content="Hanks.xyz">
<meta property="og:description">
<meta property="og:image" content="http://poj.org/images/2318_1.jpg">
<meta property="og:image" content="http://img.blog.csdn.net/20130812183128421">
<meta property="og:updated_time" content="2015-12-04T17:20:04.320Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="poj 题目2318 TOYS （计算几何，点与边的关系）">
<meta name="twitter:description">
  
  
    <link rel="icon" href="/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <link href="//fonts.useso.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link href='//fonts.useso.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">Hanks.xyz</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about/index.html">关于</a>
        
          <a class="main-nav-link" href="/atom.xml">RSS</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/hanks-zyh" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about/index.html" class="mobile-nav-link">关于</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
  </div>
</nav>
      <div class="outer">
        
        <section id="main"><article id="post-poj_题目2318_TOYS_（计算几何，点与边的关系）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/" class="article-date">
  <time datetime="2013-08-12T10:32:00.000Z" itemprop="datePublished">2013-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      poj 题目2318 TOYS （计算几何，点与边的关系）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<div lang="en-US" class="ptt" align="center"><span style="font-size:24px; color:#3333ff">TOYS</span></div>
<div class="plm">
<table align="center">
<tbody>
<tr>
<td><span style="color:#009900"><strong>Time Limit:</strong> 2000MS</span></td>
<td width="10"><span style="color:#009900"></span></td>
<td><span style="color:#009900"><strong>Memory Limit:</strong> 65536K</span></td>
</tr>
<tr>
<td><span style="color:#009900"><strong>Total Submissions:</strong> 9018</span></td>
<td width="10"><span style="color:#009900"></span></td>
<td><span style="color:#009900"><strong>Accepted:</strong> 4288</span></td>
</tr>
</tbody>
</table>
</div>
<p class="pst">Description</p>
<div lang="en-US" class="ptx">Calculate the number of toys that land in each bin of a partitioned toy box.
<br>
Mom and dad have a problem - their child John never puts his toys away when he is finished playing with them. They gave John a rectangular box to put his toys in, but John is rebellious and obeys his parents by simply throwing his toys into the box. All the
 toys get mixed up, and it is impossible for John to find his favorite toys. <br>
<br>
John's parents came up with the following idea. They put cardboard partitions into the box. Even if John keeps throwing his toys into the box, at least toys that get thrown into different bins stay separated. The following diagram shows a top view of an example
 toy box. <br>
<img src="http://poj.org/images/2318_1.jpg" alt=""> <br>
For this problem, you are asked to determine how many toys fall into each partition as John throws them into the toy box.</div>
<p class="pst">Input</p>
<div lang="en-US" class="ptx">The input file contains one or more problems. The first line of a problem consists of six integers, n m x1 y1 x2 y2. The number of cardboard partitions is n (0 &lt; n &lt;= 5000) and the number of toys is m (0 &lt; m &lt;= 5000). The coordinates
 of the upper-left corner and the lower-right corner of the box are (x1,y1) and (x2,y2), respectively. The following n lines contain two integers per line, Ui Li, indicating that the ends of the i-th cardboard partition is at the coordinates (Ui,y1) and (Li,y2).
 You may assume that the cardboard partitions do not intersect each other and that they are specified in sorted order from left to right. The next m lines contain two integers per line, Xj Yj specifying where the j-th toy has landed in the box. The order of
 the toy locations is random. You may assume that no toy will land exactly on a cardboard partition or outside the boundary of the box. The input is terminated by a line consisting of a single 0.</div>
<p class="pst">Output</p>
<div lang="en-US" class="ptx">The output for each problem will be one line for each separate bin in the toy box. For each bin, print its bin number, followed by a colon and one space, followed by the number of toys thrown into that bin. Bins are numbered from
 0 (the leftmost bin) to n (the rightmost bin). Separate the output of different problems by a single blank line.</div>
<p class="pst">Sample Input</p>
<pre class="sio">5 6 0 10 60 0
3 1
4 3
6 8
10 10
15 30
1 5
2 1
2 8
5 5
40 10
7 9
4 10 0 10 100 0
20 20
40 40
60 60
80 80
 5 10
15 10
25 10
35 10
45 10
55 10
65 10
75 10
85 10
95 10
0
</pre>
<p class="pst">Sample Output</p>
<pre class="sio">0: 2
1: 1
2: 1
3: 1
4: 0
5: 1

0: 2
1: 2
2: 2
3: 2
4: 2
</pre>
<p class="pst">Hint</p>
<div lang="en-US" class="ptx">As the example illustrates, toys that fall on the boundary of the box are &quot;in&quot; the box.</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><span style="font-size:18px">1.从左到有有右将每条边都存起来，然后输入一个点判断一个；</span></strong></p>
<p><strong><span style="font-size:18px">2.判断一个点的所属区域时，首先从第一条边开始判断，如果该点在第一条边左边 ，则所属区域为边左边的区域，跳出循环，判断下一个点； 若不在第一条边的左边，则继续循环</span></strong></p>
<p><strong><span style="font-size:18px">3.判断点与边的关系的时候，用叉积 判断；</span></strong></p>
<p><strong><span style="font-size:18px"><img src="http://img.blog.csdn.net/20130812183128421" alt=""></span></strong></p>
<p>&nbsp;</p>
<pre class="cpp" name="code">#include&lt;stdio.h&gt;
#define N 50005

struct point{
	int x,y; //本题这里y坐标多余 
};
struct bian{
	point up,down;//边的上下顶点 
};
bian box[N];  int cnt[N];

int main()
{
	int n,m,x1,y1,x2,y2,i,j,xj,yj,ui,li;
	while(scanf(&quot;%d&quot;,&amp;n),n)
	{
		scanf(&quot;%d%d%d%d%d&quot;,&amp;m,&amp;x1,&amp;y1,&amp;x2,&amp;y2);

		box[n].up.x = box[n].down.x = x2;
		box[n].up.y = y1; box[n].down.y = y2; //这里有点多余，所有的点纵坐标都是 y1或y2 
		for(i=0;i&lt;n;i++){
			scanf(&quot;%d%d&quot;,&amp;ui,&amp;li);
			box[i].up.x = ui; box[i].up.y = y1;
			box[i].down.x=li; box[i].down.y = y2;
		}
		for(i=0;i&lt;=n;i++) cnt[i]=0; //初始化数组 
		for(i=0;i&lt;m;i++){
			scanf(&quot;%d%d&quot;,&amp;xj,&amp;yj);
			for(j=0;j&lt;=n;j++) {	//查找区域
				int b1x = box[j].up.x ;
				int b2x = box[j].down.x;	
				if((b2x-b1x)*(yj-y1)-(y2-y1)*(xj-b1x)&lt;0 ) {
					cnt[j]++; break;	
				}
			}
		}			
		for(i=0;i&lt;=n;i++)
			printf(&quot;%d: %d\n&quot;,i,cnt[i]);
		puts(&quot;&quot;);
	}
	return 0;
}</pre>
<p><br>
&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hanks.xyz/2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/" data-id="cihurrllp003v7w05f4sezinc" class="article-share-link">Share</a>
      
      
    </footer>
  
  
</article>

  
<section id="comments">
    <!-- 多说分享框 -->
    <div class="ds-share flat" data-thread-key="/2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/" data-title="poj 题目2318 TOYS （计算几何，点与边的关系）" data-images="此处请替换为分享时显示的图片的链接地址" data-content="poj 题目2318 TOYS （计算几何，点与边的关系）" data-url="http://hanks.xyz//2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">

      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
   </div>
    <!-- 多说评论框 start -->
   	<div class="ds-thread" data-thread-key="/2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/" data-title="poj 题目2318 TOYS （计算几何，点与边的关系）" data-url="http://hanks.xyz//2013/08/12/poj_题目2318_TOYS_（计算几何，点与边的关系）/"></div>
   <!-- 多说评论框 end -->
   <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
   <script type="text/javascript">
   var duoshuoQuery = {short_name:"hanks-zyh"};
   	(function() {
   		var ds = document.createElement('script');
   		ds.type = 'text/javascript';ds.async = true;
   		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
   		ds.charset = 'UTF-8';
   		(document.getElementsByTagName('head')[0]
   		 || document.getElementsByTagName('body')[0]).appendChild(ds);
   	})();
   	</script>
   <!-- 多说公共JS代码 end -->
</section>

</section>
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/06/rx_thread/">Rx中的线程切换</a>
          </li>
        
          <li>
            <a href="/2015/12/04/mac_java_enviroment/">OS X中Java环境变量配置</a>
          </li>
        
          <li>
            <a href="/2015/12/02/mac-os-in-Ubuntu/">Ubuntu 安装 OS X 10.11  虚拟机</a>
          </li>
        
          <li>
            <a href="/2015/12/01/ReactiveX/">ReactiveX</a>
          </li>
        
          <li>
            <a href="/2015/11/29/rx_ux/">使用RxJava 提升用户体验</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Java/" style="font-size: 13.33px;">Java</a> <a href="/tags/OS-X/" style="font-size: 10px;">OS X</a> <a href="/tags/Rx/" style="font-size: 10px;">Rx</a> <a href="/tags/RxJava/" style="font-size: 10px;">RxJava</a> <a href="/tags/Rxandroid/" style="font-size: 10px;">Rxandroid</a> <a href="/tags/Rxjava/" style="font-size: 10px;">Rxjava</a> <a href="/tags/Ubuntu/" style="font-size: 16.67px;">Ubuntu</a> <a href="/tags/mac-os/" style="font-size: 10px;">mac os</a> <a href="/tags/virtualBox/" style="font-size: 10px;">virtualBox</a> <a href="/tags/必备知识/" style="font-size: 10px;">必备知识</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://kiya.space">kiya-z</a>
          </li>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer footer_center">
    <div id="footer-info" class="inner">
      &copy; 2015 Hanks<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
  </br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    </div>
  </div>
</footer>

    </div>
    

<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/jquery.scrollLoading.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>