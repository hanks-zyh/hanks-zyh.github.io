<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>poj 题目2398 Toy Storage （简单计算几何） | Hanks.xyz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="article">
<meta property="og:title" content="poj 题目2398 Toy Storage （简单计算几何）">
<meta property="og:url" content="http://hanks.xyz/2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/index.html">
<meta property="og:site_name" content="Hanks.xyz">
<meta property="og:description">
<meta property="og:image" content="http://poj.org/images/2398_1.jpg">
<meta property="og:updated_time" content="2015-12-04T17:20:04.320Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="poj 题目2398 Toy Storage （简单计算几何）">
<meta name="twitter:description">
  
  
    <link rel="icon" href="/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <link href="//fonts.useso.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link href='//fonts.useso.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">Hanks.xyz</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about/index.html">关于</a>
        
          <a class="main-nav-link" href="/atom.xml">RSS</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/hanks-zyh" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about/index.html" class="mobile-nav-link">关于</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hanks.xyz"></form>
  </div>
</nav>
      <div class="outer">
        
        <section id="main"><article id="post-poj_题目2398_Toy_Storage_（简单计算几何）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/" class="article-date">
  <time datetime="2013-08-12T11:53:00.000Z" itemprop="datePublished">2013-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      poj 题目2398 Toy Storage （简单计算几何）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<div lang="en-US" class="ptt" align="center"><strong><span style="font-size:18px; color:#3333ff">Toy Storage</span></strong></div>
<div class="plm">
<table align="center">
<tbody>
<tr>
<td><span style="color:#33cc00"><strong>Time Limit:</strong> 1000MS</span></td>
<td width="10"><span style="color:#33cc00"></span></td>
<td><span style="color:#33cc00"><strong>Memory Limit:</strong> 65536K</span></td>
</tr>
<tr>
<td><span style="color:#33cc00"><strong>Total Submissions:</strong> 3299</span></td>
<td width="10"><span style="color:#33cc00"></span></td>
<td><span style="color:#33cc00"><strong>Accepted:</strong> 1887</span></td>
</tr>
</tbody>
</table>
</div>
<p class="pst">Description</p>
<div lang="en-US" class="ptx">Mom and dad have a problem: their child, Reza, never puts his toys away when he is finished playing with them. They gave Reza a rectangular box to put his toys in. Unfortunately, Reza is rebellious and obeys his parents by simply
 throwing his toys into the box. All the toys get mixed up, and it is impossible for Reza to find his favorite toys anymore.
<br>
Reza's parents came up with the following idea. They put cardboard partitions into the box. Even if Reza keeps throwing his toys into the box, at least toys that get thrown into different partitions stay separate. The box looks like this from the top:
<br>
<center><img src="http://poj.org/images/2398_1.jpg" alt=""></center>
<br>
We want for each positive integer t, such that there exists a partition with t toys, determine how many partitions have t, toys.</div>
<p class="pst">Input</p>
<div lang="en-US" class="ptx">The input consists of a number of cases. The first line consists of six integers n, m, x1, y1, x2, y2. The number of cardboards to form the partitions is n (0 &lt; n &lt;= 1000) and the number of toys is given in m (0 &lt; m &lt;= 1000). The
 coordinates of the upper-left corner and the lower-right corner of the box are (x1, y1) and (x2, y2), respectively. The following n lines each consists of two integers Ui Li, indicating that the ends of the ith cardboard is at the coordinates (Ui, y1) and
 (Li, y2). You may assume that the cardboards do not intersect with each other. The next m lines each consists of two integers Xi Yi specifying where the ith toy has landed in the box. You may assume that no toy will land on a cardboard.
<br>
<br>
A line consisting of a single 0 terminates the input.</div>
<p class="pst">Output</p>
<div lang="en-US" class="ptx">For each box, first provide a header stating &quot;Box&quot; on a line of its own. After that, there will be one line of output per count (t &gt; 0) of toys in a partition. The value t will be followed by a colon and a space, followed the number
 of partitions containing t toys. Output will be sorted in ascending order of t for each box.</div>
<p class="pst">Sample Input</p>
<pre class="sio">4 10 0 10 100 0
20 20
80 80
60 60
40 40
5 10
15 10
95 10
25 10
65 10
75 10
35 10
45 10
55 10
85 10
5 6 0 10 60 0
4 3
15 30
3 1
6 8
10 10
2 1
2 8
1 5
5 5
40 10
7 9
0
</pre>
<p class="pst">Sample Output</p>
<pre class="sio">Box
2: 5
Box
1: 4
2: 1
</pre>
<p>&nbsp;</p>
<p>更刚才那道题题目几乎一样，只不过这个需要将边进行排序，然后计算每个区域的点的个数；</p>
<p>&nbsp;</p>
<pre class="cpp" name="code">#include&lt;iostream&gt; 
#include&lt;stdio.h&gt;
#include&lt;algorithm&gt;
#define N 1005
using namespace std;
struct bian{
	int up;
	int down;
};
bian box[N];
int cnt[N];

bool cmp(bian a,bian b){
	if(a.up&lt;b.up) return true;
	return false;
}
int main()
{
	int n,m,x1,y1,x2,y2,i,j,xj,yj,ui,li;
	while(scanf(&quot;%d&quot;,&amp;n),n)
	{
		scanf(&quot;%d%d%d%d%d&quot;,&amp;m,&amp;x1,&amp;y1,&amp;x2,&amp;y2);
		box[n].up= box[n].down = x2;
		for(i=0;i&lt;n;i++){
			scanf(&quot;%d%d&quot;,&amp;ui,&amp;li);
			box[i].up = ui;  box[i].down=li; 
		}
		sort(box,box+n+1,cmp); //这里需要排序 
		for(i=0;i&lt;=n;i++) cnt[i]=0;
		for(i=0;i&lt;m;i++){
			scanf(&quot;%d%d&quot;,&amp;xj,&amp;yj);
			for(j=0;j&lt;=n;j++)
			{			
				int b1x = box[j].up ;
				int b2x = box[j].down;
				
				if((b2x-b1x)*(yj-y1)-(y2-y1)*(xj-b1x)&lt;0 ) { //判断点与当前边的关系 
					cnt[j]++; break;	
				}	
			}
		}
		sort(cnt,cnt+n+1); //个数排序 
		printf(&quot;Box\n&quot;);	
		for(i=1;i&lt;=n;i++){
			if(cnt[i-1]){	
				int sum = 1;
			
				while(cnt[i]==cnt[i-1]) {
					i++;sum++;
				}
				printf(&quot;%d: %d\n&quot;,cnt[i-1],sum);
				if(i==n)	printf(&quot;%d: 1\n&quot;,cnt[i]); //最后的单独一个 
			}		
		}
	}
	return 0;
}
</pre>
<p><br>
&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hanks.xyz/2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/" data-id="ciiip6hrn004exg05yffh21ao" class="article-share-link">Share</a>
      
      
    </footer>
  
  
</article>

  
<section id="comments">
    <!-- 多说分享框 -->
    <div class="ds-share flat" data-thread-key="/2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/" data-title="poj 题目2398 Toy Storage （简单计算几何）" data-images="https://raw.githubusercontent.com/Hankiya/LoveOnline/master/Rich%20Format%20Vertical.png" data-content="poj 题目2398 Toy Storage （简单计算几何）" data-url="http://hanks.xyz//2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">

      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
   </div>
    <!-- 多说评论框 start -->
   	<div class="ds-thread" data-thread-key="/2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/" data-title="poj 题目2398 Toy Storage （简单计算几何）" data-url="http://hanks.xyz//2013/08/12/poj_题目2398_Toy_Storage_（简单计算几何）/"></div>
   <!-- 多说评论框 end -->
   <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
   <script type="text/javascript">
   var duoshuoQuery = {short_name:"hanks-zyh"};
   	(function() {
   		var ds = document.createElement('script');
   		ds.type = 'text/javascript';ds.async = true;
   		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
   		ds.charset = 'UTF-8';
   		(document.getElementsByTagName('head')[0]
   		 || document.getElementsByTagName('body')[0]).appendChild(ds);
   	})();
   	</script>
   <!-- 多说公共JS代码 end -->
</section>

</section>
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/23/react-network/">React-Native 网络请求</a>
          </li>
        
          <li>
            <a href="/2015/12/22/react-components/">React-Native 组件练习-购物app侧滑菜单</a>
          </li>
        
          <li>
            <a href="/2015/12/21/react-flexbox/">React-Native中的布局</a>
          </li>
        
          <li>
            <a href="/2015/12/18/atom-nuclide/">Atom安装Nuclide</a>
          </li>
        
          <li>
            <a href="/2015/12/18/react-native-UIExplorer/">运行React-Native例子UIExplorer</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Atom/" style="font-size: 10px;">Atom</a> <a href="/tags/Java/" style="font-size: 12.5px;">Java</a> <a href="/tags/OS-X/" style="font-size: 10px;">OS X</a> <a href="/tags/React-Native/" style="font-size: 17.5px;">React-Native</a> <a href="/tags/Refactoring/" style="font-size: 10px;">Refactoring</a> <a href="/tags/Rx/" style="font-size: 10px;">Rx</a> <a href="/tags/RxJava/" style="font-size: 10px;">RxJava</a> <a href="/tags/Rxandroid/" style="font-size: 10px;">Rxandroid</a> <a href="/tags/Rxjava/" style="font-size: 12.5px;">Rxjava</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/mac-os/" style="font-size: 10px;">mac os</a> <a href="/tags/virtualBox/" style="font-size: 10px;">virtualBox</a> <a href="/tags/必备知识/" style="font-size: 10px;">必备知识</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://kiya.space">kiya-z</a>
          </li>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer footer_center">
    <div id="footer-info" class="inner">
      &copy; 2015 Hanks<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
  </br>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    </div>
  </div>
</footer>

    </div>
    

<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/jquery.scrollLoading.js" type="text/javascript"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>