<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[Hanks.xyz]]></title>
  <subtitle><![CDATA[coding]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://hanks.xyz/"/>
  <updated>2016-06-05T15:17:43.000Z</updated>
  <id>http://hanks.xyz/</id>
  
  <author>
    <name><![CDATA[Hanks]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[Leancloud 进行网站托管]]></title>
    <link href="http://hanks.xyz/2016/06/05/leancloud-website/"/>
    <id>http://hanks.xyz/2016/06/05/leancloud-website/</id>
    <published>2016-06-05T15:04:34.000Z</published>
    <updated>2016-06-05T15:17:43.000Z</updated>
    <content type="html"><![CDATA[<p>Leancloud 提供了网站托管功能。文档：<a href="https://leancloud.cn/docs/leanengine_webhosting_guide-node.html" target="_blank" rel="external">网站托管开发指南 · Node.js</a></p>
<p>网址： <a href="http://bookshelf.leanapp.cn/" target="_blank" rel="external">http://bookshelf.leanapp.cn/</a></p>
<p><img src="http://ww1.sinaimg.cn/large/8c9b876fjw1f4kralm68gj20w01m37d6.jpg" alt=""></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[ ]]>
    
    </summary>
    
      <category term="leancloud" scheme="http://hanks.xyz/tags/leancloud/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android 中获取当前的 Activity]]></title>
    <link href="http://hanks.xyz/2016/06/02/get-activity/"/>
    <id>http://hanks.xyz/2016/06/02/get-activity/</id>
    <published>2016-06-02T14:03:29.000Z</published>
    <updated>2016-06-02T14:20:19.000Z</updated>
    <content type="html"><![CDATA[<p>需求：获取当前的 <code>Activity</code> 对象，<code>Activity</code> 是系统创建的，一种方法：在 <code>onCreate</code> 的时候拿到引用，这样就得修改 <code>onCreate</code> 方法，还得维护一个数组去管理 <code>Activity</code> 的引用。第二种方法：通过反射拿到 <code>ActivityThread</code> 中的 <code>mActivities</code> 属性，进而拿到当前的 activity 对象（ paused 为 false 的activity）。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Activity getActivity() &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class activityThreadClass = Class.forName(<span class="string">"android.app.ActivityThread"</span>);</span><br><span class="line">        <span class="keyword">Object</span> activityThread = activityThreadClass.getMethod(<span class="string">"currentActivityThread"</span>).invoke(<span class="keyword">null</span>);</span><br><span class="line">        Field activitiesField = activityThreadClass.getDeclaredField(<span class="string">"mActivities"</span>);</span><br><span class="line">        activitiesField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">        Map activities = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.KITKAT) &#123; <span class="comment">// 4.4 以下使用的是 HashMap</span></span><br><span class="line">            activities = (<span class="keyword">HashMap</span>) activitiesField.<span class="built_in">get</span>(activityThread);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">// 4.4 以上使用的是 ArrayMap</span></span><br><span class="line">            activities = (ArrayMap) activitiesField.<span class="built_in">get</span>(activityThread);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">Object</span> activityRecord : activities.values()) &#123;</span><br><span class="line">            Class activityRecordClass = activityRecord.getClass();</span><br><span class="line">            Field pausedField = activityRecordClass.getDeclaredField(<span class="string">"paused"</span>); <span class="comment">// 找到 paused 为 false 的activity</span></span><br><span class="line">            pausedField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">if</span> (!pausedField.getBoolean(activityRecord)) &#123;</span><br><span class="line">                Field activityField = activityRecordClass.getDeclaredField(<span class="string">"activity"</span>);</span><br><span class="line">                activityField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">                Activity activity = (Activity) activityField.<span class="built_in">get</span>(activityRecord);</span><br><span class="line">                <span class="keyword">return</span> activity;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[ ]]>
    
    </summary>
    
      <category term="Android" scheme="http://hanks.xyz/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Node.js 爬微信文章]]></title>
    <link href="http://hanks.xyz/2016/05/26/node-spider/"/>
    <id>http://hanks.xyz/2016/05/26/node-spider/</id>
    <published>2016-05-26T14:45:43.000Z</published>
    <updated>2016-05-29T13:05:13.000Z</updated>
    <content type="html"><![CDATA[<p>利用 Node 来抓取网页中需要的信息。<br><a id="more"></a></p>
<h3 id="环境准备">环境准备</h3><ol>
<li>基本环境： node &amp;&amp; npm</li>
<li>cheerio 模块：解析 HTML</li>
</ol>
<p>安装 cheerio 通过 <code>npm install cheerio</code></p>
<h3 id="获取网页源码">获取网页源码</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 微信文章 : Android</span></span><br><span class="line"><span class="keyword">var</span> start_url = <span class="string">"http://weixin.sogou.com/weixin?query=android&amp;type=2&amp;page=2&amp;ie=utf8"</span></span><br><span class="line">http.get(start_url, <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> html = <span class="string">''</span></span><br><span class="line">    res.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">        html += data</span><br><span class="line">    &#125;)</span><br><span class="line">    res.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(html) <span class="comment">// 打印网页源码</span></span><br><span class="line">        filterWeixinArticle(html)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'获取信息失败'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>通过 <code>http</code> 模块打印出来网页的源码：<br><img src="https://dn-coding-net-production-pp.qbox.me/14a7d0ce-a360-4756-97f7-2ce80ba4570c.png" alt="图片"><br>然后使用 cheerio 解析 HTML 字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">'cheerio'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterWeixinArticle</span>(<span class="params">html</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $ = cheerio.load(html)</span><br><span class="line">    <span class="keyword">var</span> items = $(<span class="string">'.wx-rb'</span>)</span><br><span class="line">    items.each(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> article = $(<span class="keyword">this</span>)</span><br><span class="line">        <span class="comment">// 文章标题</span></span><br><span class="line">        <span class="keyword">var</span> title = article.find(<span class="string">'h4'</span>).text().replace(<span class="regexp">/\s+/g</span>, <span class="string">''</span>)</span><br><span class="line">        <span class="comment">// 副标题</span></span><br><span class="line">        <span class="keyword">var</span> subtitle = article.find(<span class="string">'p'</span>).text().replace(<span class="regexp">/\s+/g</span>, <span class="string">''</span>)</span><br><span class="line">        <span class="comment">// 文章完整的url</span></span><br><span class="line">        <span class="keyword">var</span> url = article.find(<span class="string">'h4 a'</span>).attr(<span class="string">'href'</span>).replace(<span class="regexp">/\s+/g</span>, <span class="string">''</span>)</span><br><span class="line">        <span class="comment">// 文章 id</span></span><br><span class="line">        <span class="keyword">var</span> id = article.attr(<span class="string">'d'</span>).replace(<span class="regexp">/\s+/g</span>, <span class="string">''</span>)</span><br><span class="line">        <span class="comment">// 作者名字</span></span><br><span class="line">        <span class="keyword">var</span> authorName = article.find(<span class="string">'.s-p a'</span>).attr(<span class="string">'title'</span>)</span><br><span class="line">        <span class="comment">// 作者主页</span></span><br><span class="line">        <span class="keyword">var</span> authorUrl = article.find(<span class="string">'.s-p a'</span>).attr(<span class="string">'href'</span>)</span><br><span class="line">        <span class="keyword">var</span> articleFrom = <span class="string">"weixin"</span></span><br><span class="line">        <span class="keyword">var</span> articleItem = &#123;</span><br><span class="line">            title: title,</span><br><span class="line">            subtitle: subtitle,</span><br><span class="line">            url: url,</span><br><span class="line">            article_id: id,</span><br><span class="line">            article_from: articleFrom,</span><br><span class="line">            author_name: authorName,</span><br><span class="line">            author_url: authorUrl</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'title:'</span> + articleItem.title</span><br><span class="line">            + <span class="string">'\nsubtitle:'</span> + articleItem.subtitle</span><br><span class="line">            + <span class="string">'\nurl:'</span> + articleItem.url</span><br><span class="line">            + <span class="string">'\nid:'</span> + articleItem.article_id</span><br><span class="line">            + <span class="string">'\nname:'</span> + articleItem.author_name</span><br><span class="line">            + <span class="string">'\naaurl:'</span> + articleItem.author_url</span><br><span class="line">            + <span class="string">'\n.................................\n\n'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">title:Android日常开发总结的技术经验<span class="number">60</span>条</span><br><span class="line">subtitle:通过设置的控件transcriptMode属性可以将Android平台的控件(支持ScrollBar)自动滑动到最底部<span class="built_in">.</span>Longa;判断a有没有赋值,<span class="keyword">if</span>(a==<span class="number">0</span>)在a没有赋值情况下会报错<span class="built_in">.</span>应该<span class="keyword">if</span>(a==<span class="built_in">null</span>),<span class="built_in">Integer</span>、Floag等也一样,原因你懂,只是提醒你要小心喔<span class="built_in">.</span>编码遇到读写、出入等逻辑要双向考虑,文件导<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=NXYpqtVv4fKUBsqFpmpIR5CCHHrGvqE6kXYMOsigc3oyj3OyPsTNX5bpgdQsFXmjmZEwNPQGIzTo7n*xz*ZEtoEL99CHcWPqZfPhwEIOgJbDZpQ3QI*Lmi-WNogIDeU2Vsx0M*OBbeUFxZSNt6KBS8HK8*qEMmcCW1XembHPhnM=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a<span class="attribute">-fd14b35016ff8b667ee4beb6300264b9</span></span><br><span class="line">name:IT大牛人</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=9gqKRZeyNAYOmC8LKClHnlInQNVhvVkRjZfPgtYSSsR9SXHOfO*4q1rMqKpqgjHOC5Fd2iIltr*sI2NHUJo9Pg==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:Android开发和Java开发有什么区别</span><br><span class="line">subtitle:经常听说学Android开发首先要学Java语言,后来又听说还有Java开发这个行业,很是好奇,Android开发和Java开发有什么区别?之前了解到Android系统是基于Linux内核和驱动都是使用C/C++语言做开发,为什么又要选择Java作为开发语言呢?经过最近研究发现,原来是这么回事,废话不多<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=W*P4mHe*NUJ99i3nNo7TOIjf6YTu1QpurBdRu9pJulqkSCAR0B-jiAexfATJbmqpxz6o0zqF7*f0BBzqiHM6i1WomQG4RbwETSl0x8NNwpBoPkMqzP9IIPe5a9p8pZgX3QjnD2l6WUUfiIdSpo3clCsxV0RoSQuPrkLhKZNrzkg=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a-<span class="number">8</span>b3ccfa735dd903a26015cd2336fafd0</span><br><span class="line">name:电商世纪</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=yowmZpBKe613d90SuSXx*k8MZMDBs7yWQuWuWsT0fNufkwitAQElDmdalVWm1QYqGEr1yCPd6GsJxsCOOWE*UA==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:谷歌I/O大会之后,AndroidN将会带来哪些功能?</span><br><span class="line">subtitle:随着谷歌I/O大会的召开,Android7<span class="number">.0</span>(AndroidN)系统正式版也将于今年夏季到来,相信此时你一定在想:“AndroidN发布与我们有什么关系?天朝又用不到”,但是别忘了无论你用的是三星、是小米、是LG、还是索尼,他们所搭载的系统都是基于原始Android修改而来,所以我们经常看到手<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=*TNdFacgb6-0dZOYt*ZMwzGjLv2BcDfsNmkMRRf*1M*N5F7qk3tnqeN*KAVDyBMwuVibuaEot9FOgiderqfvbE-ISQ0KHl-b6Iwd1thzE21KEPJFdHxFxz2C9rn1C*BfmQdmrUZxjGvtvF0u5HARLiSRnfy1zHtVVPnA1xpEFgo=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a-<span class="number">0</span>c606a211b4a27b3e1d0dbe071cb59b0</span><br><span class="line">name:DevStore</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=cUBy7lubgzeEL99mK6O**jPbPFzVKZmfoBd*5EplLLGRDmAJ-LTUaUKlt-LtBBfBCwAWkdeux*WsppGwTNsmBA==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:Android7<span class="number">.0</span>应用运行速度飙升<span class="number">600</span>%<span class="subst">!</span>效率史上最高</span><br><span class="line">subtitle:谷歌今天早些时候正式在I/O大会现场详细介绍了有关Android7<span class="number">.0</span>的大量信息<span class="built_in">.</span>目前,我们已经知道,新一代Android操作系统将支持无缝升级,能够通过VulkanAPI来在中低硬件配置设备上实现流畅游戏体验以及更多的Emoji表情<span class="built_in">.</span>不过,Android7<span class="number">.0</span>最大也是最引人关注的还是来自运行效率上<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=z8fbjM3PfPjV7wUxNIQvd*srD7vkuemnG4s*YZG2Whb1ce-P44PP8H0cQ0RMOOw9j*rpA6QtijNcKotzLmsypJUV-liwUneDu8akmo0dNte5ENFWSrk8kYKAWavHw94AcxFG0N*8LkCKegfOhk04rdwMQoQYxqtQyhD1sRuvYr0=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a-<span class="number">1</span>fc444d0ea3d2895668c9cf4c156c5bf</span><br><span class="line">name:广东快通信息科技有限公司</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=owCQiyQBxuJO4aTnrvcXUxiIwILaPnZoMHp4yjtBvZO9tzaqceqWDmLy9wEXZbsR2VgFbr98Hzk3sMSZ6hZBOQ==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:<span class="number">7</span>年经验的Android开发工程师</span><br><span class="line">subtitle:▌候选人编号TP16052601男<span class="number">32</span>岁<span class="number">7</span>年工作经验本科西南大学生物科学【求职状态】<span class="number">5</span>月<span class="number">26</span>日正在找工作【求职意向】Android开发工程师【到岗时间】即时到岗【目标地点】北京【期望行业】计算机软件、互联网/电子商务【期望薪资】面议【自我评价】熟练掌握OkHttp、Volley、butterknife、<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=mH4vmswEAJEmBWt3K6dU2bhxweD8BYIQ0lE7jmrzKiPzVMWWaEX3mLi16nl0U*PNdoZb0r6pVF92ZguAtBXWTJV3n*TmIibW6NUoWj5lJduMY9CvPsptuu6*ZeBDiKg*YteUDeIfnCyu1tgnUHi4qClecJS30mwraD2xhcplI28=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a<span class="attribute">-bfa3bc3c88c4d53073cffbcd55097ef7</span></span><br><span class="line">name:合拍人力资源中心</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=qvNLNL15GF4cLv09Q0GhqFU5Sf1KSlHjdcmYyZWVOy5gxLft0hjjGuwtfL1G7tcATrQX-T2efIVPab3-armSHw==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:Android升级太慢<span class="subst">!</span>谷歌使出拉黑大招</span><br><span class="line">subtitle:北京时间<span class="number">5</span>月<span class="number">26</span>日消息,彭博社报道,谷歌正采取新措施,以推动Android手机更快地升级至最新版本<span class="built_in">.</span>由于Android系统碎片化的问题,因此谷歌可能将采取非传统的手段<span class="built_in">.</span>谷歌正在考虑的方式之一是,根据手机厂商升级系统的“熟练度”发布排名<span class="built_in">.</span>发布这样的数据将鼓励手机厂商在系统升<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=hoQI56*wxOWyeymtTwC3HGjclKnR*Y0e0GsQWtPzTsXo8ejqYPAcH71j86vF-ZxyrpOfmCVsbW012uxaFUUCQ1PLv1UKCD9TPaLCOxII6PrDNu*Q9g0RU0cSgo7h4GV4ObtQiHNBajNrZr37cTvVAFo4O*mR*CadJJ6rOuhSzKI=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a-<span class="number">05</span>c724eabcac6ed92c3f7bf78e279af6</span><br><span class="line">name:周路<span class="number">1312</span></span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=lj0aq-0nHLY-dHzY*ZRwOQV*-Zam610x2gwYtmqbszLKUhUN7uRhMYw4Qa43BpSIRWyh53vKjPJ0rKSqHusSEg==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:苹果iOS10新增这<span class="number">5</span>项AndroidN功能,酷炫<span class="subst">!</span></span><br><span class="line">subtitle:如果没有意外的话,苹果下一代iPhone以及iOS10操作系统将会在今年夏天跟谷歌AndroidN系统展开激烈的竞争<span class="built_in">.</span>我们在AndroidN系统上看到了一些非常大的进步,不少特性都让人眼前一亮<span class="built_in">.</span>外媒CultOfMac认为,如果AndroidN系统的这<span class="number">5</span>个特性能够出现在未来的iOS版本上<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=d9OAuBtb97E09c2c1cgbaGp8Td3rZrAzUR0JITEZWQzOZgQDMRe3Yn8nvTaUjhCsazngzOha5VzOk2ccXoi*9vJzF-GuDEGMBl68yeG197ixJIRdvTkaDpRaIQLK3KVSYQQSZQcjaOrp1bN6L4KghEKryWLz0-ousX3vVoJYpQQ=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a<span class="attribute">-c651e8da99849f6fee9f8303bffed181</span></span><br><span class="line">name:达内iOS培训</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=*jQgyhjKt2Yzq67KwgipuPukbM-crBBf9livbnyABwBSVYpqBQS93DT4ltZTm1smAZ*v6HWsvBi7SYSJEQgC*Q==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:AndroidQQ6<span class="number">.3</span><span class="number">.7</span><span class="number">.2795</span>正式发布~</span><br><span class="line">subtitle:QQforAndroid6<span class="number">.3</span><span class="number">.7</span>版本功能介绍:<span class="number">1.</span>视频对讲自动保存,生成专属表情包<span class="number">2.</span>好友推荐推荐可能认识的人,发现更多新朋友<span class="number">3.</span>热聊语音秀新增点赞功能,支持你喜欢的房间<span class="number">4.</span>口令红包消息超过十二条时,可自动折叠<span class="number">5.</span>多条消息被合并转发后,可再次转发<span class="number">6.</span>手势密码升级,保障信息安全,支持单独<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=qPCFsTnwZTSKVlCa5NwhwccVqLfR*RxUyB3mazE61dXs5pGr*ZHm-WsRs0bkfYtJEpcTLl2VS2tGFcH8dG5HZspcLUt2ARlSY7MUROcO9iYhJmG-P1z3QQyDwF9qWqD7OwgbtDCebQz3-DY5UvrWeNy1HCIduoFG0cEjnCdRJ2g=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a<span class="attribute">-e6f34473f892fb24433535c37e86dc18</span></span><br><span class="line">name:畩靠</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=lh-qBwZqBa16oom5v-7BcGfyLIBPJNsvlNRhWeaKcjPkXlRg7foJ-MqSXBFPfSz9nGwaH0gb7A8LlvnxV2CNog==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:我的Android面试经验总结</span><br><span class="line">subtitle:关注我,你的眼睛会怀孕MVC,MVP和MVVMMVC通信方式,环形方式:<span class="number">1</span>、View传送指令到Controller2、Controller起到不同层面间的组织作用,用于控制应用程序的流程<span class="built_in">.</span>它处理事件并作出响应<span class="built_in">.</span>“事件”包括用户的行为和数据Model上的改变<span class="number">.3</span>、Model将新的数据发送到View,用户<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=NXYpqtVv4fKUBsqFpmpIR5CCHHrGvqE6kXYMOsigc3oyj3OyPsTNX5bpgdQsFXmjT2RKoo-EwS9*27ArD00CXQw1NM*Jm9fMzQyPoNLE1TpNx1lsF560TO5iqliDvj3Of8qFs**ac6OPR*7m053c7WaClXm7kf7hgHQtddNABEo=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a<span class="attribute">-ad022736030ea3ac87cae32ae8668f46</span></span><br><span class="line">name:IT大牛人</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=9gqKRZeyNAYOmC8LKClHnlInQNVhvVkRjZfPgtYSSsR9SXHOfO*4q1rMqKpqgjHOC5Fd2iIltr*sI2NHUJo9Pg==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">title:【Android开发】微信支付不成功的几个原因</span><br><span class="line">subtitle:微信支付一定要理解的几个概念:<span class="number">1</span>导出应用签名区别于应用签名,使用debug<span class="built_in">.</span>keystore密钥库,导出应用时进行签名<span class="number">2</span>项目包名比如:com<span class="built_in">.</span>shangmai<span class="built_in">.</span>recovery3应用签名签名使用官网提供的工具——Gen_Signature_Android<span class="built_in">.</span>apk,输入包名生成,比如:a04b960af8bf3b8bde86a25ecb791f844<span class="attribute">...</span></span><br><span class="line">url:http:<span class="comment">//mp.weixin.qq.com/s?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=mBYIjZdjrG1qmlOCoKcg0dgGLXJwWtQHKn6lpkWYQv4H0-dKk9Nh7pnD*MEGrhec717brvxQizJp8hiCqkNJkrkuKFkXgpKl0ML1ghfBAreVRbHzVrEouiD06GPRqcmhJRtIe*24J0geYSCMhlJnG-2JuyfiQiBu7HUQaCEng88=</span></span><br><span class="line">id:ab735a258a90e8e1-<span class="number">6</span>bee54fcbd896b2a-<span class="number">9278</span>f0323ae3e65971e0fcb37f275423</span><br><span class="line">name:黑马程序员</span><br><span class="line">aaurl:http:<span class="comment">//mp.weixin.qq.com/profile?src=3&amp;timestamp=1464274994&amp;ver=1&amp;signature=oE87kQzfDF2iKcoD*anPFvLaTy5fRgzE1t2nu8NNMpVhXEAJ2G5qcI-UGK5mjUxxFBF2bFe50eD54Gdr9W7TqA==</span></span><br><span class="line"><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span></span><br></pre></td></tr></table></figure>
<p>后来发现上面抓到的文章链接有过期时间，如下图。</p>
<p><img src="http://ww3.sinaimg.cn/large/8c9b876fjw1f4ck33bcj8j20qd0c9t9a.jpg" alt=""></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>利用 Node 来抓取网页中需要的信息。<br>]]>
    
    </summary>
    
      <category term="Node.js" scheme="http://hanks.xyz/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[MongoDB 入门]]></title>
    <link href="http://hanks.xyz/2016/05/21/mongoDB/"/>
    <id>http://hanks.xyz/2016/05/21/mongoDB/</id>
    <published>2016-05-21T07:38:33.000Z</published>
    <updated>2016-05-21T09:06:42.000Z</updated>
    <content type="html"><![CDATA[<p>什么是 <code>MongoDB</code> ?<br>MongoDB 是由C++语言编写的，是一个基于分布式文件存储的开源数据库系统。<br>在高负载的情况下，添加更多的节点，可以保证服务器性能。<br>MongoDB 旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。<br>MongoDB 将数据存储为一个文档，数据结构由键值 (key=&gt;value) 对组成。MongoDB 文档类似于 <code>JSON 对象</code>。字段值可以包含其他文档，数组及文档数组。<br><a id="more"></a></p>
<h2 id="安装">安装</h2><p>下载地址：<a href="http://www.mongodb.org/downloads" target="_blank" rel="external">http://www.mongodb.org/downloads</a></p>
<h3 id="Windows中安装">Windows中安装</h3><p>在 Windows 系统上安装 MongoDB 数据库是件非常简单的事情，下载可执行安装文件(exe)，双击安装即可。<br>MongoDB 服务器运行命令：<code>MongoDB 安装目录/bin/mongod.exe</code><br>MongoDB 客户端运行命令：<code>MongoDB 安装目录/bin/mongo.exe</code></p>
<h3 id="Ubuntu_安装">Ubuntu 安装</h3><p>参考 <a href="https://docs.mongodb.com/master/tutorial/install-mongodb-on-ubuntu/?_ga=1.242553222.549778784.1463815567" target="_blank" rel="external">官方文档</a>，我的环境 Ubuntu 14.04</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 下载密钥文件</span></span><br><span class="line">$ sudo apt-key adv --keyserver hkp:<span class="comment">//keyserver.ubuntu.com:80 --recv EA312927</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 在 source.list 中增加 MongoDB 源的配置</span></span><br><span class="line">$ echo <span class="string">"deb http://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.2 multiverse"</span> | sudo tee /etc/apt/sources.<span class="built_in">list</span>.d/mongodb-org-<span class="number">3.2</span>.<span class="built_in">list</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 更新 apt 源</span></span><br><span class="line">$ sudo apt-get update</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 安装 MongoDB</span></span><br><span class="line">$ sudo apt-get install -y mongodb-org=<span class="number">3.2</span><span class="number">.6</span> mongodb-org-server=<span class="number">3.2</span><span class="number">.6</span> mongodb-org-shell=<span class="number">3.2</span><span class="number">.6</span> mongodb-org-mongos=<span class="number">3.2</span><span class="number">.6</span> mongodb-org-tools=<span class="number">3.2</span><span class="number">.6</span></span><br></pre></td></tr></table></figure>
<p>上述命令执行完则安装完成，安装成功后 <code>mongod</code> 服务会自动启动，下面检测一下是否安装成功。</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service mongod status</span><br><span class="line">mongod <span class="built_in">start</span>/running, <span class="built_in">process</span> <span class="number">3841</span></span><br></pre></td></tr></table></figure>
<p>如果没有启动那么手动启动 mongod 服务</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line"><span class="variable">$ </span>sudo service mongod start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止服务</span></span><br><span class="line"><span class="variable">$ </span>sudo service mongod stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启服务</span></span><br><span class="line"><span class="variable">$ </span>sudo service mongod restart</span><br></pre></td></tr></table></figure>
<p>开启后，通过 <code>/var/log/mongodb/mongod.log</code> 查看日志文件。</p>
<h2 id="配置">配置</h2><p>配置文件放在 <code>/etc/mongod.conf</code> ，<br>默认访问端口为 <code>27017</code>，数据库文件存放目录为 <code>/var/lib/mongodb</code> ，日志文件目录为 <code>/var/log/mongodb/mongod.log</code> 。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># mongod.conf</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># for documentation of all options, see:</span></span><br><span class="line"><span class="preprocessor">#   http://docs.mongodb.org/manual/reference/configuration-options/</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Where and how to store data.</span></span><br><span class="line">storage:</span><br><span class="line">  dbPath: /<span class="keyword">var</span>/lib/mongodb</span><br><span class="line">  journal:</span><br><span class="line">    enabled: <span class="literal">true</span></span><br><span class="line"><span class="preprocessor">#  engine:</span></span><br><span class="line"><span class="preprocessor">#  mmapv1:</span></span><br><span class="line"><span class="preprocessor">#  wiredTiger:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># where to write logging data.</span></span><br><span class="line">systemLog:</span><br><span class="line">  destination: file</span><br><span class="line">  logAppend: <span class="literal">true</span></span><br><span class="line">  path: /<span class="keyword">var</span>/log/mongodb/mongod.log</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># network interfaces</span></span><br><span class="line">net:</span><br><span class="line">  port: <span class="number">27017</span></span><br><span class="line">  bindIp: <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#processManagement:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#security:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#operationProfiling:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#replication:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#sharding:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">## Enterprise-Only Options:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#auditLog:</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#snmp:</span></span><br></pre></td></tr></table></figure>
<h2 id="基本使用">基本使用</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MongoDB 的相关命令</span></span><br><span class="line">$ mongo <span class="comment">--help</span></span><br><span class="line">MongoDB shell <span class="property">version</span>: <span class="number">3.2</span><span class="number">.6</span></span><br><span class="line">usage: mongo [options] [db address] [<span class="type">file</span> names (ending <span class="keyword">in</span> .js)]</span><br><span class="line">db address can be:</span><br><span class="line">  foo                   foo database <span class="function_start"><span class="keyword">on</span></span> <span class="keyword">local</span> machine</span><br><span class="line">  <span class="number">192.169</span><span class="number">.0</span><span class="number">.5</span>/foo       foo database <span class="function_start"><span class="keyword">on</span></span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.5</span> machine</span><br><span class="line">  <span class="number">192.169</span><span class="number">.0</span><span class="number">.5</span>:<span class="number">9999</span>/foo  foo database <span class="function_start"><span class="keyword">on</span></span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.5</span> machine <span class="function_start"><span class="keyword">on</span></span> port <span class="number">9999</span></span><br><span class="line">Options:</span><br><span class="line">  <span class="comment">--shell                             run the shell after executing files</span></span><br><span class="line">  <span class="comment">--nodb                              don't connect to mongod on startup - no</span></span><br><span class="line">                                      'db address' arg expected</span><br><span class="line">  <span class="comment">--norc                              will not run the ".mongorc.js" file on</span></span><br><span class="line">                                      start up</span><br><span class="line">  <span class="comment">--quiet                             be less chatty</span></span><br><span class="line">  <span class="comment">--port arg                          port to connect to</span></span><br><span class="line">  <span class="comment">--host arg                          server to connect to</span></span><br><span class="line">  <span class="comment">--eval arg                          evaluate javascript</span></span><br><span class="line">  -h [ <span class="comment">--help ]                       show this usage information</span></span><br><span class="line">  <span class="comment">--version                           show version information</span></span><br><span class="line">  <span class="comment">--verbose                           increase verbosity</span></span><br><span class="line">  <span class="comment">--ipv6                              enable IPv6 support (disabled by default)</span></span><br><span class="line">  <span class="comment">--disableJavaScriptJIT              disable the Javascript Just In Time</span></span><br><span class="line">                                      compiler</span><br><span class="line">  <span class="comment">--enableJavaScriptProtection        disable automatic JavaScript function</span></span><br><span class="line">                                      marshalling</span><br><span class="line">  <span class="comment">--ssl                               use SSL for all connections</span></span><br><span class="line">  <span class="comment">--sslCAFile arg                     Certificate Authority file for SSL</span></span><br><span class="line">  <span class="comment">--sslPEMKeyFile arg                 PEM certificate/key file for SSL</span></span><br><span class="line">  <span class="comment">--sslPEMKeyPassword arg             password for key in PEM file for SSL</span></span><br><span class="line">  <span class="comment">--sslCRLFile arg                    Certificate Revocation List file for SSL</span></span><br><span class="line">  <span class="comment">--sslAllowInvalidHostnames          allow connections to servers with</span></span><br><span class="line">                                      non-matching hostnames</span><br><span class="line">  <span class="comment">--sslAllowInvalidCertificates       allow connections to servers with invalid</span></span><br><span class="line">                                      certificates</span><br><span class="line">  <span class="comment">--sslFIPSMode                       activate FIPS 140-2 mode at startup</span></span><br><span class="line"></span><br><span class="line">Authentication Options:</span><br><span class="line">  -u [ <span class="comment">--username ] arg               username for authentication</span></span><br><span class="line">  -p [ <span class="comment">--password ] arg               password for authentication</span></span><br><span class="line">  <span class="comment">--authenticationDatabase arg        user source (defaults to dbname)</span></span><br><span class="line">  <span class="comment">--authenticationMechanism arg       authentication mechanism</span></span><br><span class="line">  <span class="comment">--gssapiServiceName arg (=mongodb)  Service name to use when authenticating</span></span><br><span class="line">                                      using GSSAPI/Kerberos</span><br><span class="line">  <span class="comment">--gssapiHostName arg                Remote host name to use for purpose of</span></span><br><span class="line">                                      GSSAPI/Kerberos authentication</span><br><span class="line"></span><br><span class="line"><span class="type">file</span> names: a <span class="type">list</span> <span class="keyword">of</span> files <span class="keyword">to</span> <span class="command">run</span>. files have <span class="keyword">to</span> <span class="keyword">end</span> <span class="keyword">in</span> .js <span class="keyword">and</span> will <span class="keyword">exit</span> <span class="keyword">after</span> unless <span class="comment">--shell is specified</span></span><br></pre></td></tr></table></figure>
<p>从上面的帮助可以看到 mongo 的使用，现在使用 <code>mongo</code> 命令访问 MongoDB 服务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ mongo</span><br><span class="line">MongoDB shell version: 3.2.6</span><br><span class="line">connecting to: test</span><br><span class="line">Welcome to the MongoDB shell.</span><br><span class="line">For interactive <span class="operator"><span class="keyword">help</span>, <span class="keyword">type</span> <span class="string">"help"</span>.</span><br><span class="line"><span class="keyword">For</span> more comprehensive documentation, see</span><br><span class="line">    <span class="keyword">http</span>://docs.mongodb.org/</span><br><span class="line">Questions? Try the support <span class="keyword">group</span></span><br><span class="line">    <span class="keyword">http</span>://<span class="keyword">groups</span>.google.com/<span class="keyword">group</span>/mongodb-<span class="keyword">user</span></span><br><span class="line"></span><br><span class="line"># 查看帮助</span><br><span class="line">&gt; <span class="keyword">help</span></span><br><span class="line">    db.<span class="keyword">help</span>()                    <span class="keyword">help</span> <span class="keyword">on</span> db methods</span><br><span class="line">    db.mycoll.<span class="keyword">help</span>()             <span class="keyword">help</span> <span class="keyword">on</span> collection methods</span><br><span class="line">    sh.<span class="keyword">help</span>()                    sharding helpers</span><br><span class="line">    rs.<span class="keyword">help</span>()                    replica <span class="keyword">set</span> helpers</span><br><span class="line">    <span class="keyword">help</span> <span class="keyword">admin</span>                   administrative <span class="keyword">help</span></span><br><span class="line">    <span class="keyword">help</span> <span class="keyword">connect</span>                 connecting <span class="keyword">to</span> a db <span class="keyword">help</span></span><br><span class="line">    <span class="keyword">help</span> <span class="keyword">keys</span>                    <span class="keyword">key</span> shortcuts</span><br><span class="line">    <span class="keyword">help</span> misc                    misc things <span class="keyword">to</span> know</span><br><span class="line">    <span class="keyword">help</span> mr                      mapreduce</span><br><span class="line"></span><br><span class="line">    <span class="keyword">show</span> dbs                     <span class="keyword">show</span> <span class="keyword">database</span> <span class="keyword">names</span></span><br><span class="line">    <span class="keyword">show</span> collections             <span class="keyword">show</span> collections <span class="keyword">in</span> <span class="keyword">current</span> <span class="keyword">database</span></span><br><span class="line">    <span class="keyword">show</span> <span class="keyword">users</span>                   <span class="keyword">show</span> <span class="keyword">users</span> <span class="keyword">in</span> <span class="keyword">current</span> <span class="keyword">database</span></span><br><span class="line">    <span class="keyword">show</span> profile                 <span class="keyword">show</span> most recent <span class="keyword">system</span>.profile entries <span class="keyword">with</span> <span class="keyword">time</span> &gt;= <span class="number">1</span>ms</span><br><span class="line">    <span class="keyword">show</span> <span class="keyword">logs</span>                    <span class="keyword">show</span> the <span class="keyword">accessible</span> logger <span class="keyword">names</span></span><br><span class="line">    <span class="keyword">show</span> <span class="keyword">log</span> [<span class="keyword">name</span>]              prints <span class="keyword">out</span> the <span class="keyword">last</span> <span class="keyword">segment</span> <span class="keyword">of</span> <span class="keyword">log</span> <span class="keyword">in</span> <span class="keyword">memory</span>, <span class="string">'global'</span> <span class="keyword">is</span> <span class="keyword">default</span></span><br><span class="line">    <span class="keyword">use</span> &lt;db_name&gt;                <span class="keyword">set</span> <span class="keyword">current</span> <span class="keyword">database</span></span><br><span class="line">    db.foo.find()                <span class="keyword">list</span> objects <span class="keyword">in</span> collection foo</span><br><span class="line">    db.foo.find( &#123; a : <span class="number">1</span> &#125; )     <span class="keyword">list</span> objects <span class="keyword">in</span> foo <span class="keyword">where</span> a == <span class="number">1</span></span><br><span class="line">    it                           <span class="keyword">result</span> <span class="keyword">of</span> the <span class="keyword">last</span> line evaluated;</span> <span class="operator"><span class="keyword">use</span> <span class="keyword">to</span> further <span class="keyword">iterate</span></span><br><span class="line">    DBQuery.shellBatchSize = x   <span class="keyword">set</span> <span class="keyword">default</span> <span class="built_in">number</span> <span class="keyword">of</span> items <span class="keyword">to</span> display <span class="keyword">on</span> shell</span><br><span class="line">    <span class="keyword">exit</span>                         quit the mongo shell</span><br><span class="line">&gt;</span></span><br></pre></td></tr></table></figure>
<p>相关操作命令<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 连接数据库</span></span><br><span class="line">$ mongo <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">27017</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 查看已有的数据库</span></span><br><span class="line">&gt; show dbs</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 切换/创建数据库</span></span><br><span class="line">&gt; use blogdb</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 显示当前数据库对象或集合</span></span><br><span class="line">&gt; db</span><br><span class="line">blogdb</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 删除数据库</span></span><br><span class="line">&gt; db.dropDatabase()</span><br><span class="line">&#123; <span class="string">"dropped"</span> : <span class="string">"blogdb"</span>, <span class="string">"ok"</span> : <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 向集合 user 中插入一条数据，如果集合不存在则创建</span></span><br><span class="line">&gt; db.user.insert(&#123;name:<span class="string">'hanks'</span>,age:<span class="number">22</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nInserted"</span> : <span class="number">1</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 查看当前数据库中是所以集合</span></span><br><span class="line">&gt; show collections</span><br><span class="line">user</span><br><span class="line">course</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 查询所以数据</span></span><br><span class="line">&gt; db.user.find()</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"574021487ca7760c7927ea1b"</span>), <span class="string">"name"</span> : <span class="string">"hanks"</span>, <span class="string">"age"</span> : <span class="number">22</span> &#125;</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5740214e7ca7760c7927ea1c"</span>), <span class="string">"name"</span> : <span class="string">"kiya"</span>, <span class="string">"age"</span> : <span class="number">22</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 条件查询</span></span><br><span class="line">&gt; db.user.find(&#123;name:<span class="string">'hanks'</span>&#125;)</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"574021487ca7760c7927ea1b"</span>), <span class="string">"name"</span> : <span class="string">"hanks"</span>, <span class="string">"age"</span> : <span class="number">22</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 删除</span></span><br><span class="line">&gt; db.user.remove(&#123;name:<span class="string">'hanks'</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nRemoved"</span> : <span class="number">1</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 覆盖更新</span></span><br><span class="line">&gt; db.user.update(&#123;name:<span class="string">'hanks'</span>&#125;, &#123;age:<span class="string">'22'</span>&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nMatched"</span> : <span class="number">1</span>, <span class="string">"nUpserted"</span> : <span class="number">0</span>, <span class="string">"nModified"</span> : <span class="number">1</span> &#125;)</span><br><span class="line">&gt; db.user.find(&#123;name:<span class="string">'hanks'</span>&#125;)</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"5740239c7ca7760c7927ea20"</span>), <span class="string">"age"</span> : <span class="string">"22"</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 更新某个字段</span></span><br><span class="line">&gt; db.user.update(&#123;name:<span class="string">'kiya'</span>&#125;, &#123;$<span class="keyword">set</span>:&#123;age:<span class="string">'20'</span>&#125;&#125;)</span><br><span class="line">WriteResult(&#123; <span class="string">"nMatched"</span> : <span class="number">1</span>, <span class="string">"nUpserted"</span> : <span class="number">0</span>, <span class="string">"nModified"</span> : <span class="number">1</span> &#125;)</span><br><span class="line">&gt; db.user.find(&#123;name:<span class="string">'kiya'</span>&#125;,)</span><br><span class="line">&#123; <span class="string">"_id"</span> : ObjectId(<span class="string">"574023a37ca7760c7927ea21"</span>), <span class="string">"name"</span> : <span class="string">"kiya"</span>, <span class="string">"age"</span> : <span class="string">"20"</span> &#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>相关链接</p>
<p><a href="https://www.mongodb.com" target="_blank" rel="external">https://www.mongodb.com</a><br><a href="http://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="external">http://www.runoob.com/mongodb/mongodb-tutorial.html</a></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>什么是 <code>MongoDB</code> ?<br>MongoDB 是由C++语言编写的，是一个基于分布式文件存储的开源数据库系统。<br>在高负载的情况下，添加更多的节点，可以保证服务器性能。<br>MongoDB 旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。<br>MongoDB 将数据存储为一个文档，数据结构由键值 (key=&gt;value) 对组成。MongoDB 文档类似于 <code>JSON 对象</code>。字段值可以包含其他文档，数组及文档数组。<br>]]>
    
    </summary>
    
      <category term="MongoDB" scheme="http://hanks.xyz/tags/MongoDB/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Express 网站开发]]></title>
    <link href="http://hanks.xyz/2016/05/20/express-project/"/>
    <id>http://hanks.xyz/2016/05/20/express-project/</id>
    <published>2016-05-20T15:54:30.000Z</published>
    <updated>2016-05-20T16:23:16.000Z</updated>
    <content type="html"><![CDATA[<p><code>express</code> 开发一个简单的网站，网页模板引擎使用 <code>jade</code>，样式基于 <code>bootstrap</code>，数据库使用 <code>MongoDB</code></p>
<a id="more"></a>
<h2 id="环境搭建">环境搭建</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> express jade mongooes</span><br></pre></td></tr></table></figure>
<p>首先需要是 <code>node</code> 环境，使用 <code>npm</code> 安装 <code>express</code> <code>jade</code> 和 <code>mongoose</code>， 然后使用 bower 安装 bootstrap。<br>安装 bower 通过 <code>npm install bower -g</code>， bower 是一个客户端技术的软件包管理器，它可用于搜索、安装和卸载如JavaScript、HTML、CSS之类的网络资源。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">bower </span>install <span class="keyword">bootstrap</span></span><br></pre></td></tr></table></figure>
<p>搭建完成后目录结构</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">├── <span class="tag">app</span><span class="class">.js</span>  # 启动文件</span><br><span class="line">├── <span class="tag">bower_components</span> # <span class="tag">bower</span> 安装的库</span><br><span class="line">│   ├── <span class="tag">bootstrap</span></span><br><span class="line">│   └── <span class="tag">jquery</span></span><br><span class="line">├── <span class="tag">node_modules</span> # <span class="tag">npm</span> 安装的依赖库</span><br><span class="line">│   ├── <span class="tag">express</span></span><br><span class="line">│   ├── <span class="tag">jade</span></span><br><span class="line">│   ├── <span class="tag">moment</span></span><br><span class="line">│   └── <span class="tag">mongoose</span></span><br><span class="line">├── <span class="tag">package</span><span class="class">.json</span> </span><br><span class="line">└── <span class="tag">views</span> # 视图模板</span><br><span class="line">    ├── <span class="tag">includes</span></span><br><span class="line">    │   ├── <span class="tag">head</span><span class="class">.jade</span></span><br><span class="line">    │   └── <span class="tag">header</span><span class="class">.jade</span></span><br><span class="line">    ├── <span class="tag">layout</span><span class="class">.jade</span></span><br><span class="line">    └── <span class="tag">pages</span></span><br><span class="line">        ├── <span class="tag">admin</span><span class="class">.jade</span></span><br><span class="line">        ├── <span class="tag">detail</span><span class="class">.jade</span></span><br><span class="line">        ├── <span class="tag">index</span><span class="class">.jade</span></span><br></pre></td></tr></table></figure>
<h3 id="创建视图">创建视图</h3><p><code>layout.jade</code> 基础布局，所有的网页都是基于该布局<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">doctype</span></span><br><span class="line"><span class="label">html</span></span><br><span class="line">  head</span><br><span class="line">    meta(charset=<span class="string">"utf-8"</span>)</span><br><span class="line">    title #&#123;title&#125;</span><br><span class="line">    <span class="preprocessor">include</span> ./includes/head</span><br><span class="line">  <span class="keyword">body</span><br><span class="line"></span>    <span class="preprocessor">include</span> ./includes/header</span><br><span class="line">    <span class="keyword">block </span>content</span><br></pre></td></tr></table></figure></p>
<p><code>head.jade</code> 放一些 css js 引用<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">link</span><span class="params">(href=<span class="string">"/bootstrap/dist/css/bootstrap.min.css"</span>, rel=<span class="string">"stylesheet"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">script</span><span class="params">(src=<span class="string">"/jquery/dist/jquery.min.js"</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">script</span><span class="params">(src=<span class="string">"/bootstrap/dist/js/bootstrap.min.js"</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>header.jade</code> 所有网页通用的 header<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.<span class="keyword">container</span></span><br><span class="line">  .row</span><br><span class="line">    .page-header</span><br><span class="line">      h1 <span class="preprocessor">#&#123;title&#125;</span></span><br></pre></td></tr></table></figure></p>
<p><code>index.jade</code> ，主界面，影片列表<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">extends ../layout</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  .container</span><br><span class="line">    .row</span><br><span class="line">      each item <span class="keyword">in</span> movies</span><br><span class="line">        .col-md-<span class="number">2</span></span><br><span class="line">          .thumbnail</span><br><span class="line">            a(href=<span class="string">"/movie/<span class="subst">#&#123;item._id&#125;</span>"</span>)</span><br><span class="line">              img(src=<span class="string">"<span class="subst">#&#123;item.poster&#125;</span>"</span>, alt=<span class="string">"<span class="subst">#&#123;item.title&#125;</span>"</span>)</span><br><span class="line">            .caption</span><br><span class="line">              h3 <span class="comment">#&#123;item.title&#125;</span></span><br><span class="line">              <span class="attribute">p</span>: a.btn.btn-primary(href=<span class="string">"/movie/<span class="subst">#&#123;item._id&#125;</span>"</span>, role=<span class="string">"button"</span>) 观看预告片</span><br></pre></td></tr></table></figure></p>
<p><code>detial.jade</code> 影片详情页，展示某个影片的详细信息<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">extends ../layout</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  <span class="string">.container</span></span><br><span class="line">    <span class="string">.row</span></span><br><span class="line">      <span class="string">.col</span>-md-<span class="number">7</span></span><br><span class="line">        &lt;video width=<span class="string">"100%"</span> controls=<span class="string">""</span> autoplay=<span class="string">"false"</span> name=<span class="string">"media"</span>&gt;&lt;source src=<span class="string">"#&#123;movie.flash&#125;"</span>&gt;&lt;/video&gt;</span><br><span class="line">      <span class="string">.col</span>-md-<span class="number">5</span></span><br><span class="line">        <span class="literal">dl</span>.dl-horizontal</span><br><span class="line">         <span class="pseudo">dt</span> 电影名字</span><br><span class="line">         <span class="pseudo">dd</span> #&#123;movie.title&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 导演</span><br><span class="line">         <span class="pseudo">dd</span> #&#123;movie.director&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 主演</span><br><span class="line">         <span class="pseudo">dd</span> #&#123; movie.actor&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 国家</span><br><span class="line">         <span class="pseudo">dd</span> #&#123; movie.country&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 语言</span><br><span class="line">         <span class="pseudo">dd</span> #&#123;movie.language&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 上映年份</span><br><span class="line">         <span class="pseudo">dd</span> #&#123; movie.publishTime&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 类型</span><br><span class="line">         <span class="pseudo">dd</span> #&#123;movie.type&#125;</span><br><span class="line">         <span class="pseudo">dt</span> 简介</span><br><span class="line">         <span class="pseudo">dd</span> #&#123;movie.summary&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>admin.jade</code> Admin 界面，录入影片信息。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">extends ../layout</span><br><span class="line"></span><br><span class="line">block <span class="attribute">content</span></span><br><span class="line">  <span class="class">.container</span></span><br><span class="line">    <span class="class">.row</span></span><br><span class="line">      <span class="tag">form</span>.<span class="function"><span class="title">form-horizontal</span><span class="params">(method=<span class="string">"post"</span>,action=<span class="string">"/admin/movie/new"</span>)</span></span></span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputTitle"</span>) 电影名字</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputTitle</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[title]"</span>)</span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputDirector"</span>) 导演</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputDirector</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[director]"</span>)</span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputCountry"</span>) 国家</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputCountry</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[country]"</span>)</span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputLanguage"</span>) 语言</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputLanguage</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[language]"</span>)</span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputYear"</span>) 上映年份</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputYear</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[publishTime]"</span>)</span><br><span class="line">        <span class="class">.form-group</span></span><br><span class="line">          <span class="tag">label</span><span class="class">.col-sm-2</span><span class="class">.control-label</span>(<span class="keyword">for</span>=<span class="string">"inputSummary"</span>) 简介</span><br><span class="line">          <span class="class">.col-sm-10</span></span><br><span class="line">            input<span class="id">#inputSummary</span><span class="class">.col-sm-10</span><span class="class">.form-control</span>(type=<span class="string">"text"</span>,name=<span class="string">"movie[summary]"</span>)</span><br></pre></td></tr></table></figure></p>
<p><code>list.jade</code> 影片列表编辑界面，编辑已有的文章。<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">extends ../layout</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  .container</span><br><span class="line">    .row</span><br><span class="line">      table.table.table-hover.table-bordered</span><br><span class="line">        thead</span><br><span class="line">          tr</span><br><span class="line">            th 电影名字</span><br><span class="line">            th 导演</span><br><span class="line">            th 国家</span><br><span class="line">            th 上映年份</span><br><span class="line">           <span class="comment"> //- th 录入时间</span></span><br><span class="line">            th 查看</span><br><span class="line">            th 更新</span><br><span class="line">            th 删除</span><br><span class="line">        tbody</span><br><span class="line">          <span class="keyword">each</span> <span class="keyword">item</span> <span class="operator">in</span> movies</span><br><span class="line">            tr(class=<span class="string">"item-id-#&#123;item._id&#125;"</span>)</span><br><span class="line">              td <span class="comment">#&#123;item.title&#125;</span></span><br><span class="line">              td <span class="comment">#&#123;item.director&#125;</span></span><br><span class="line">              td <span class="comment">#&#123;item.country&#125;</span></span><br><span class="line">              td <span class="comment">#&#123;item.publishTime&#125;</span></span><br><span class="line">             <span class="comment"> //- td #&#123;moment(item.meta.createdAt).format('MM/DD/YYYY')&#125;</span></span><br><span class="line">              td: <span class="operator">a</span>(target=<span class="string">"_blank"</span>, herf=<span class="string">"../movie/#&#123;item._id&#125;"</span>) 查看</span><br><span class="line">              td: <span class="operator">a</span>(target=<span class="string">"_blank"</span>, herf=<span class="string">"../admin/update/#&#123;item._id&#125;"</span>) 修改</span><br><span class="line">              td</span><br><span class="line">                button.btn.btn-danger.del(type=<span class="string">"button"</span>, <span class="built_in">date</span>-id=<span class="string">"#&#123;item._id&#125;"</span>) 删除</span><br></pre></td></tr></table></figure></p>
<h3 id="路由">路由</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = require(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> path = require(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> port = process.env.PORT || <span class="number">3000</span></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line">app.<span class="keyword">set</span>(<span class="string">'views'</span>,<span class="string">'./views/pages'</span>)</span><br><span class="line">app.<span class="keyword">set</span>(<span class="string">'view engine'</span>, <span class="string">'jade'</span>)</span><br><span class="line">app.<span class="keyword">use</span>(express.<span class="keyword">static</span>(path.join(__dirname,<span class="string">'bower_components'</span>)))</span><br><span class="line">app.listen(port)</span><br><span class="line"></span><br><span class="line">console.log(<span class="string">'server listening on poert:'</span>+port)</span><br><span class="line"></span><br><span class="line"><span class="comment">// index</span></span><br><span class="line">app.<span class="keyword">get</span>(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span> <span class="params">(req,res)</span> </span>&#123;</span><br><span class="line">    res.render(<span class="string">'index'</span>,&#123;</span><br><span class="line">        title: <span class="string">'首页'</span>,</span><br><span class="line">        movies: [</span><br><span class="line">            &#123;</span><br><span class="line">                title: <span class="string">'变形金刚1'</span>,</span><br><span class="line">                _id: <span class="number">1</span>,</span><br><span class="line">                poster: <span class="string">'https://img3.doubanio.com/view/movie_poster_cover/mpst/public/p2332503406.jpg'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                title: <span class="string">'变形金刚2'</span>,</span><br><span class="line">                _id: <span class="number">2</span>,</span><br><span class="line">                poster: <span class="string">'https://img3.doubanio.com/view/movie_poster_cover/mpst/public/p2332503406.jpg'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                title: <span class="string">'变形金刚3'</span>,</span><br><span class="line">                _id: <span class="number">3</span>,</span><br><span class="line">                poster: <span class="string">'https://img3.doubanio.com/view/movie_poster_cover/mpst/public/p2332503406.jpg'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                title: <span class="string">'变形金刚4'</span>,</span><br><span class="line">                _id: <span class="number">4</span>,</span><br><span class="line">                poster: <span class="string">'https://img3.doubanio.com/view/movie_poster_cover/mpst/public/p2332503406.jpg'</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// movie detail</span></span><br><span class="line">app.<span class="keyword">get</span>(<span class="string">'/movie/:id'</span>,<span class="function"><span class="keyword">function</span> <span class="params">(req,res)</span> </span>&#123;</span><br><span class="line">    res.render(<span class="string">'detail'</span>,&#123;</span><br><span class="line">        title: <span class="string">'详情页'</span>,</span><br><span class="line">        movie:&#123;</span><br><span class="line">            title:<span class="string">'美国队长3：内战'</span>,</span><br><span class="line">            director: <span class="string">'安东尼·罗素 / 乔·罗素'</span>,</span><br><span class="line">            editor : <span class="string">'克里斯托弗·马库斯 / 斯蒂芬·麦克菲利 / 杰克·科比 / 乔·西蒙'</span>,</span><br><span class="line">            actor : <span class="string">'克里斯·埃文斯 / 小罗伯特·唐尼 / 斯嘉丽·约翰逊 / 塞巴斯蒂安·斯坦 / 安东尼·麦凯 / 更多...'</span>,</span><br><span class="line">            type : <span class="string">'动作 / 科幻 / 冒险'</span>,</span><br><span class="line">            link : <span class="string">'marvel.com/captainamerica'</span>,</span><br><span class="line">            country : <span class="string">'美国'</span>,</span><br><span class="line">            language : <span class="string">'科萨语 / 英语 / 德语 / 俄语 / 罗马尼亚语'</span>,</span><br><span class="line">            publishTime: <span class="string">' 2016-05-06(中国大陆/美国) / 2016-04-12(加州首映)'</span>,</span><br><span class="line">            duration : <span class="string">'148分钟(中国大陆) / 147分钟'</span>,</span><br><span class="line">            alise : <span class="string">'美国队长3：内战 / 美国队长3：英雄内战(港/台) / 美队3 / Captain America 3'</span>,</span><br><span class="line">            summary : <span class="string">'美国队长史蒂夫·罗杰斯（克里斯·埃文斯 Chris Evans 饰）带领着全新组建的复仇者联盟，继续维护世界和平。然而，一次执行任务时联盟成员不小心造成大量平民伤亡，从而激发政治压力，政府决定通过一套监管系统来管理和领导复仇者联盟。联盟内部因此分裂为两派：一方由史蒂夫· 罗杰斯领导，他主张维护成员自由，在免受政府干扰的情况下保护世界；另一方则追随托尼·斯塔克（小罗伯特·唐尼 Robert Downey Jr. 饰），他令人意外地决定支持政府的监管和责任制体系。神秘莫测的巴基（塞巴斯蒂安·斯坦 Sebastian Stan 饰）似乎成为内战的关键人物……'</span>,</span><br><span class="line">            flash:<span class="string">'https://img3.doubanio.com/rda/8ffecbe972ad5cf.mp4'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//admin page</span></span><br><span class="line">app.<span class="keyword">get</span>(<span class="string">'/admin/movie'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> </span>&#123;</span><br><span class="line">    res.render(<span class="string">'admin'</span>, &#123;</span><br><span class="line">        title: <span class="string">'imooc 后台录入页'</span>,</span><br><span class="line">        movie: &#123;</span><br><span class="line">            director: <span class="string">''</span>,</span><br><span class="line">            country: <span class="string">''</span>,</span><br><span class="line">            title: <span class="string">''</span>,</span><br><span class="line">            publishTime: <span class="string">''</span>,</span><br><span class="line">            poster: <span class="string">''</span>,</span><br><span class="line">            language: <span class="string">''</span>,</span><br><span class="line">            flash: <span class="string">''</span>,</span><br><span class="line">            summary: <span class="string">''</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//admin page</span></span><br><span class="line">app.<span class="keyword">get</span>(<span class="string">'/admin/list'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> </span>&#123;</span><br><span class="line">    res.render(<span class="string">'list'</span>, &#123;</span><br><span class="line">        title: <span class="string">'imooc 列表页'</span>,</span><br><span class="line">        movies: [&#123;</span><br><span class="line">            director: <span class="string">'乔斯·韦登'</span>,</span><br><span class="line">            country: <span class="string">'美国'</span>,</span><br><span class="line">            title: <span class="string">'复仇者联盟2'</span>,</span><br><span class="line">            publishTime: <span class="string">'2015'</span>,</span><br><span class="line">            _id:<span class="number">2</span>,</span><br><span class="line">            poster: <span class="string">'http://img31.mtime.cn/mg/2015/03/27/120537.13212993_270X405X4.jpg'</span>,</span><br><span class="line">            language: <span class="string">'英语'</span>,</span><br><span class="line">            flash: <span class="string">'http://v.youku.com/v_show/id_XODc4NDY0MjA4.html'</span>,</span><br><span class="line">            summary: <span class="string">'影片讲述当钢铁侠试图启动处于休眠状态的维持和平计划时，事情出了差错。于是，在地球面临生死存亡的紧急关头时，强大的超级英雄们挺身而出承担起拯救世界的重任，他们将阻止可怕的人工智能机器人“奥创”制定恐怖计划。'</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>目前还是假数据，还没有使用 MongoDB。</p>
<p>运行  <code>node app.js</code> 然后再浏览器打开 <code>http://localhost:3000</code>。</p>
<hr>
<h2 id="相关链接：">相关链接：</h2><p><a href="http://www.imooc.com/video/1226" target="_blank" rel="external">http://www.imooc.com/video/1226</a><br><a href="http://expressjs.com/" target="_blank" rel="external">http://expressjs.com/</a><br><a href="http://bower.io/" target="_blank" rel="external">http://bower.io/</a></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p><code>express</code> 开发一个简单的网站，网页模板引擎使用 <code>jade</code>，样式基于 <code>bootstrap</code>，数据库使用 <code>MongoDB</code></p>]]>
    
    </summary>
    
      <category term="Express" scheme="http://hanks.xyz/tags/Express/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[认识 Express]]></title>
    <link href="http://hanks.xyz/2016/05/19/express-node/"/>
    <id>http://hanks.xyz/2016/05/19/express-node/</id>
    <published>2016-05-19T14:38:44.000Z</published>
    <updated>2016-05-19T15:17:36.000Z</updated>
    <content type="html"><![CDATA[<p>Node.js 本身对 http 模块封装的不够方便，于是相应的 web 开发框架便应运而生，express是使用比较多的，express 比较轻量级，围绕 http 模块进行了封装，但是支持很多扩展使它变得非常强大。<br><a id="more"></a></p>
<p><img src="http://ww3.sinaimg.cn/large/8c9b876fjw1f413pj01msj20zk0k0wgf.jpg" alt=""></p>
<h3 id="安装_express">安装 express</h3><p>当然前提是有 node 环境，安装过了 npm </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="operator"><span class="keyword">install</span> express-generator -<span class="keyword">g</span></span></span><br></pre></td></tr></table></figure>
<p>查看帮助</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ express --help</span><br><span class="line"></span><br><span class="line">  Usage: express [options] [dir]</span><br><span class="line"></span><br><span class="line">  Options:</span><br><span class="line"></span><br><span class="line">    -<span class="ruby">h, --help          output usage information</span><br><span class="line"></span>    -<span class="ruby"><span class="constant">V</span>, --version       output the version number</span><br><span class="line"></span>    -<span class="ruby">e, --ejs           add ejs engine support (defaults to jade)</span><br><span class="line"></span>        -<span class="ruby">-hbs           add handlebars engine support</span><br><span class="line"></span>    -<span class="ruby"><span class="constant">H</span>, --hogan         add hogan.js engine support</span><br><span class="line"></span>    -<span class="ruby">c, --css &lt;engine&gt;  add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css)</span><br><span class="line"></span>        -<span class="ruby">-git           add .gitignore</span><br><span class="line"></span>    -<span class="ruby">f, --force         force on non-empty directory</span></span><br></pre></td></tr></table></figure>
<p>通过查看帮助可以看到 express 支持的扩展， ejs | jade | Hogan.js | handlebars 模板引擎， less|stylus|compass|sass 处理生成 css。</p>
<h3 id="创建项目">创建项目</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 创建一个名为 rent 的项目</span><br><span class="line">$ express rent</span><br><span class="line"></span><br><span class="line">   <span class="operator"><span class="keyword">create</span> : rent</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">package</span>.<span class="keyword">json</span></span><br><span class="line">   <span class="keyword">create</span> : rent/app.js</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">public</span></span><br><span class="line">   <span class="keyword">create</span> : rent/routes</span><br><span class="line">   <span class="keyword">create</span> : rent/routes/<span class="keyword">index</span>.js</span><br><span class="line">   <span class="keyword">create</span> : rent/routes/<span class="keyword">users</span>.js</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">public</span>/images</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">public</span>/stylesheets</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">public</span>/stylesheets/<span class="keyword">style</span>.css</span><br><span class="line">   <span class="keyword">create</span> : rent/views</span><br><span class="line">   <span class="keyword">create</span> : rent/views/<span class="keyword">index</span>.jade</span><br><span class="line">   <span class="keyword">create</span> : rent/views/layout.jade</span><br><span class="line">   <span class="keyword">create</span> : rent/views/<span class="keyword">error</span>.jade</span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">bin</span></span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">bin</span>/www</span><br><span class="line"></span><br><span class="line">   <span class="keyword">install</span> dependencies:</span><br><span class="line">     $ cd rent &amp;&amp; npm <span class="keyword">install</span></span><br><span class="line"></span><br><span class="line">   run the app:</span><br><span class="line">     $ DEBUG=rent:* npm <span class="keyword">start</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">create</span> : rent/<span class="keyword">public</span>/javascripts</span></span><br></pre></td></tr></table></figure>
<p>根据上面的提示继续安装依赖</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入目录</span></span><br><span class="line"><span class="variable">$ </span>cd rent</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line"><span class="variable">$ </span>npm install</span><br></pre></td></tr></table></figure>
<p>项目的目录结构</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">rent</span><br><span class="line">├── app<span class="class">.js</span></span><br><span class="line">├── bin</span><br><span class="line">│   └── www</span><br><span class="line">├── node_modules</span><br><span class="line">│   ├── body-parser</span><br><span class="line">│   ├── cookie-parser</span><br><span class="line">│   ├── debug</span><br><span class="line">│   ├── express</span><br><span class="line">│   ├── jade</span><br><span class="line">│   ├── morgan</span><br><span class="line">│   └── serve-favicon</span><br><span class="line">├── package<span class="class">.json</span></span><br><span class="line">├── public</span><br><span class="line">│   ├── images</span><br><span class="line">│   ├── javascripts</span><br><span class="line">│   └── stylesheets</span><br><span class="line">├── routes</span><br><span class="line">│   ├── index<span class="class">.js</span></span><br><span class="line">│   └── users<span class="class">.js</span></span><br><span class="line">└── views</span><br><span class="line">    ├── error<span class="class">.jade</span></span><br><span class="line">    ├── index<span class="class">.jade</span></span><br><span class="line">    └── layout.jade</span><br></pre></td></tr></table></figure>
<p><code>app.js文件</code>：应用程序的入口文件。<br><code>node_modules目录</code>：安装了哪些模块。<br><code>public目录</code>： 存放图片、css和 js 脚本等资源。<br><code>routes目录</code>： 路由的处理程序。<br><code>views目录</code>：存放模板视图</p>
<p>参考链接</p>
<p><a href="http://expressjs.com/en/starter/generator.html" target="_blank" rel="external">http://expressjs.com/en/starter/generator.html</a></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>Node.js 本身对 http 模块封装的不够方便，于是相应的 web 开发框架便应运而生，express是使用比较多的，express 比较轻量级，围绕 http 模块进行了封装，但是支持很多扩展使它变得非常强大。<br>]]>
    
    </summary>
    
      <category term="Express" scheme="http://hanks.xyz/tags/Express/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[SQLite 中的 sqlite_master 表]]></title>
    <link href="http://hanks.xyz/2016/05/05/sqlite-master/"/>
    <id>http://hanks.xyz/2016/05/05/sqlite-master/</id>
    <published>2016-05-05T15:01:26.000Z</published>
    <updated>2016-05-05T15:12:55.000Z</updated>
    <content type="html"><![CDATA[<p>需求：有一个 SQLite 的 db 数据库文件，现在需要列出这个数据库文件的所有表的信息。</p>
<a id="more"></a>
<p>SQLite 的数据库中有一个自动生成的 <code>sqlite_master</code> 表，表中保存数据库表的关键信息。如要查看表概要，可按如下操作：<br>这个表的结构如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sqlite_master (</span><br><span class="line">  <span class="keyword">type</span> <span class="built_in">text</span>,</span><br><span class="line">  <span class="keyword">name</span> <span class="built_in">text</span>,</span><br><span class="line">  tbl_name <span class="built_in">text</span>,</span><br><span class="line">  rootpage <span class="built_in">integer</span>,</span><br><span class="line">  <span class="keyword">sql</span> <span class="built_in">text</span></span><br><span class="line">);</span></span><br></pre></td></tr></table></figure>
<p><code>type</code> 字段的值是 <code>table</code>，<code>name</code> 字段是表的名字，<code>sql</code> 字段是表的创建语句。<br>所以想要查看数据库中所有表的信息可以执行以下语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">FROM</span> sqlite_master </span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">type</span> = <span class="string">'table'</span> </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">name</span>;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>需求：有一个 SQLite 的 db 数据库文件，现在需要列出这个数据库文件的所有表的信息。</p>]]>
    
    </summary>
    
      <category term="SQLite" scheme="http://hanks.xyz/tags/SQLite/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linux 的 crontab 定时重复任务]]></title>
    <link href="http://hanks.xyz/2016/05/02/crontab/"/>
    <id>http://hanks.xyz/2016/05/02/crontab/</id>
    <published>2016-05-02T14:09:47.000Z</published>
    <updated>2016-05-02T15:11:17.000Z</updated>
    <content type="html"><![CDATA[<p><code>cron</code> (crond) 工具是 Linux 上面的用来执行周期性任务的工具，比如每天凌晨进行数据统计，定期备份数据库，写缓存数据到硬盘、日志清理等。<br><a id="more"></a></p>
<p>以下环境在 Ubuntu 14.04 64位</p>
<h2 id="基本组成">基本组成</h2><ul>
<li>系统服务 ：<code>cron</code>（crond） （crond 进程每分钟会定期检查是否有要执行的任务，如果有要执行的任务，则自动执行该任务）</li>
<li>配置文件：以文件方式设置定时任务（在/etc目录下有一个crontab文件，这个就是系统任务调度的配置文件）</li>
<li>配置工具 ：<code>crontab</code> 用于调整任务</li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前任务</span></span><br><span class="line"><span class="variable">$ </span>crontab -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 cron 服务的状态</span></span><br><span class="line"><span class="variable">$ </span>service cron status</span><br></pre></td></tr></table></figure>
<h2 id="添加任务">添加任务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab <span class="operator">-e</span></span><br></pre></td></tr></table></figure>
<p>出现一个文件，在文件末尾添加一个任务：每天的 04:20 执行一行命令，输出 ‘hello world’ 到 /var/tmp/log 文件</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># minute (m), hour (h), day of month (dom), month (mon),</span><br><span class="line"># and day of week (dow) or <span class="operator"><span class="keyword">use</span> <span class="string">'*'</span> <span class="keyword">in</span> these <span class="keyword">fields</span> (<span class="keyword">for</span> <span class="string">'any'</span>).#</span><br><span class="line"># <span class="keyword">Notice</span> that tasks will be started based <span class="keyword">on</span> the cron<span class="string">'s system</span><br><span class="line"># daemon'</span>s notion <span class="keyword">of</span> <span class="keyword">time</span> <span class="keyword">and</span> timezones.</span><br><span class="line">#</span><br><span class="line"># <span class="keyword">Output</span> <span class="keyword">of</span> the crontab jobs (<span class="keyword">including</span> <span class="keyword">errors</span>) <span class="keyword">is</span> sent <span class="keyword">through</span></span><br><span class="line"># email <span class="keyword">to</span> the <span class="keyword">user</span> the crontab <span class="keyword">file</span> belongs <span class="keyword">to</span> (unless redirected).</span><br><span class="line">#</span><br><span class="line"># <span class="keyword">For</span> example, you can run a <span class="keyword">backup</span> <span class="keyword">of</span> all your <span class="keyword">user</span> accounts</span><br><span class="line"># <span class="keyword">at</span> <span class="number">5</span> a.<span class="keyword">m</span> every <span class="keyword">week</span> <span class="keyword">with</span>:</span><br><span class="line"># <span class="number">0</span> <span class="number">5</span> * * <span class="number">1</span> tar -zcf /<span class="keyword">var</span>/backups/home.tgz /home/</span><br><span class="line">#</span><br><span class="line"># <span class="keyword">For</span> more information see the <span class="keyword">manual</span> pages <span class="keyword">of</span> crontab(<span class="number">5</span>) <span class="keyword">and</span> cron(<span class="number">8</span>)</span><br><span class="line">#</span><br><span class="line"># <span class="keyword">m</span> h  dom mon dow   command</span><br><span class="line"><span class="number">20</span> <span class="number">4</span> * * *  echo <span class="string">'hello world'</span> &gt;&gt; /<span class="keyword">var</span>/tmp/<span class="keyword">log</span></span></span><br></pre></td></tr></table></figure>
<p>添加一条任务的格式</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">*</span>  <span class="keyword">*</span>  <span class="keyword">*</span>  <span class="keyword">*</span>  <span class="keyword">*</span>     COMMAND</span><br><span class="line">|<span class="string">  </span>|<span class="string">  </span>|<span class="string">  </span>|<span class="string">  </span>|</span><br><span class="line">|<span class="string">  </span>|<span class="string">  </span>|<span class="string">  </span>|<span class="string">  +--&gt; 星 期 0 ~ 7 ( 0 或 7 表 示 星 期 天 )</span><br><span class="line"></span>|<span class="string">  </span>|<span class="string">  </span>|<span class="string">  +-----&gt; 月 份 1 ~ 12</span><br><span class="line"></span>|<span class="string">  </span>|<span class="string">  +--------&gt; 日 期 1 ~ 31</span><br><span class="line"></span>|<span class="string">  +-----------&gt; 小 时 0 ~ 23</span><br><span class="line">+--------------&gt; 分 钟 0 ~ 59</span></span><br></pre></td></tr></table></figure>
<p>crontab 文件的一些例子：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 每晚的 <span class="number">21</span>:<span class="number">30</span> 重启 apache</span></span><br><span class="line">$ <span class="number">30</span> <span class="number">21</span> * * * /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 每月 <span class="number">1</span>、<span class="number">10</span>、<span class="number">22</span> 日的 <span class="number">4</span>:<span class="number">45</span> 重启 apache</span></span><br><span class="line">$ <span class="number">45</span> <span class="number">4</span> <span class="number">1</span>,<span class="number">10</span>,<span class="number">22</span> * * /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 每周六、周日的 <span class="number">1</span>:<span class="number">10</span> 重启 apache</span></span><br><span class="line">$ <span class="number">10</span> <span class="number">1</span> * * <span class="number">6</span>,<span class="number">0</span> /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 每天 <span class="number">18</span>:<span class="number">00</span> 至 <span class="number">23</span>:<span class="number">00</span> 之间每隔 <span class="number">30</span> 分钟重启 apache</span></span><br><span class="line">$ <span class="number">0</span>,<span class="number">30</span> <span class="number">18</span>-<span class="number">23</span> * * * /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 每星期六的 <span class="number">23</span>:<span class="number">00</span> 重启 apache</span></span><br><span class="line">$<span class="number">0</span> <span class="number">23</span> * * <span class="number">6</span> /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 每一小时重启 apache </span></span><br><span class="line">$ * */<span class="number">1</span> * * * /usr/local/etc/rc.d/lighttpd restart </span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># <span class="number">23</span> 点到早上 <span class="number">7</span> 点之间，每隔一小时重启 apache </span></span><br><span class="line">$ * <span class="number">23</span>-<span class="number">7</span>/<span class="number">1</span> * * * /usr/local/etc/rc.d/lighttpd restart</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出用户目前的crontab</span></span><br><span class="line">$ crontab <span class="operator">-l</span></span><br></pre></td></tr></table></figure>
<h2 id="其他配置">其他配置</h2><p>所有用户定义的 crontab 文件都被保存在 <code>/var/spool/cron</code> 目录中。其文件名与用户名一致。<br>使用者权限文件：<br>文件：<code>/etc/cron.deny</code> ，该文件中所列用户不允许使用 crontab 命令<br>文件：<code>/etc/cron.allow</code> ，该文件中所列用户允许使用 crontab 命令<br>文件：<code>/var/spool/cron/</code> ，所有用户 crontab 文件存放的目录,以用户名命名</p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p><code>cron</code> (crond) 工具是 Linux 上面的用来执行周期性任务的工具，比如每天凌晨进行数据统计，定期备份数据库，写缓存数据到硬盘、日志清理等。<br>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://hanks.xyz/tags/Linux/"/>
    
      <category term="crontab" scheme="http://hanks.xyz/tags/crontab/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Android 中 NestedScrollingParent 接口]]></title>
    <link href="http://hanks.xyz/2016/04/27/NestedScrollingParent/"/>
    <id>http://hanks.xyz/2016/04/27/NestedScrollingParent/</id>
    <published>2016-04-26T16:20:37.000Z</published>
    <updated>2016-04-26T16:25:19.000Z</updated>
    <content type="html"><![CDATA[<h2 id="NestedScrollingParent_接口">NestedScrollingParent 接口</h2><p><strong>接口</strong>（android.support.v4.view.NestedScrollingParent）</p>
<blockquote>
<p>Nested : 嵌套的</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">几个实现类</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CoordinatorLayout</td>
<td style="text-align:left">非常强大，协调它里面 View 的嵌套滑动</td>
</tr>
<tr>
<td style="text-align:left">NestedScrollView</td>
<td style="text-align:left">类似 ScrollView, 但是支持嵌套滑动的</td>
</tr>
<tr>
<td style="text-align:left">SwipeRefreshLayout</td>
<td style="text-align:left">SwipeRefreshLayout 支持竖直方向的下拉刷新控件</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h2 id="方法介绍">方法介绍</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> 当你希望自己的自定义布局支持嵌套子视图并且处理滚动操作，就可以实现该接口。</span><br><span class="line"> 实现这个接口后可以创建一个 NestedScrollingParentHelper 字段，使用它来帮助你处理大部分的方法。</span><br><span class="line"> 处理嵌套的滚动时应该使用  `ViewCompat`，`ViewGroupCompat`或`ViewParentCompat` 中的方法来处理，这是一些兼容库，</span><br><span class="line"> 他们保证 Android 5.0之前的兼容性垫片的静态方法，这样可以兼容 Android 5.0 之前的版本。</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">NestedScrollingParent</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 当子视图调用 startNestedScroll(View, int) 后调用该方法。返回 true 表示响应子视图的滚动。</span><br><span class="line">     * 实现这个方法来声明支持嵌套滚动，如果返回 true，那么这个视图将要配合子视图嵌套滚动。当嵌套滚动结束时会调用到 onStopNestedScroll(View)。</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> child 可滚动的子视图</span><br><span class="line">     * <span class="doctag">@param</span> target NestedScrollingParent 的直接可滚动的视图，一般情况就是 child</span><br><span class="line">     * <span class="doctag">@param</span> nestedScrollAxes 包含 ViewCompat#SCROLL_AXIS_HORIZONTAL, ViewCompat#SCROLL_AXIS_VERTICAL 或者两个值都有。</span><br><span class="line">     * <span class="doctag">@return</span> 返回 true 表示响应子视图的滚动。</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onStartNestedScroll</span><span class="params">(View child, View target, <span class="keyword">int</span> nestedScrollAxes)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 如果 onStartNestedScroll 返回 true ，然后走该方法，这个方法里可以做一些初始化。</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNestedScrollAccepted</span><span class="params">(View child, View target, <span class="keyword">int</span> nestedScrollAxes)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 子视图开始滚动前会调用这个方法。这时候父布局（也就是当前的 NestedScrollingParent 的实现类）可以通过这个方法来配合子视图同时处理滚动事件。</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> target 滚动的子视图</span><br><span class="line">     * <span class="doctag">@param</span> dx 绝对值为手指在x方向滑动的距离，dx&lt;0 表示手指在屏幕向右滑动</span><br><span class="line">     * <span class="doctag">@param</span> dy 绝对值为手指在y方向滑动的距离，dy&lt;0 表示手指在屏幕向下滑动</span><br><span class="line">     * <span class="doctag">@param</span> consumed 一个数组，值用来表示父布局消耗了多少距离，未消耗前为[0,0], 如果父布局想处理滚动事件，就可以在这个方法的实现中为consumed[0]，consumed[1]赋值。</span><br><span class="line">     *                 分别表示x和y方向消耗的距离。如父布局想在竖直方向（y）完全拦截子视图，那么让 consumed[1] = dy，就把手指产生的触摸事件给拦截了，子视图便响应不到触摸事件了 。</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNestedPreScroll</span><span class="params">(View target, <span class="keyword">int</span> dx, <span class="keyword">int</span> dy, <span class="keyword">int</span>[] consumed)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span><br><span class="line">     * 这个方法表示子视图正在滚动，并且把滚动距离回调用到该方法，前提是 onStartNestedScroll 返回了 true。</span><br><span class="line">     * &lt;p&gt;Both the consumed and unconsumed portions of the scroll distance are reported to the</span><br><span class="line">     * ViewParent. An implementation may choose to use the consumed portion to match or chase scroll</span><br><span class="line">     * position of multiple child elements, for example. The unconsumed portion may be used to</span><br><span class="line">     * allow continuous dragging of multiple scrolling or draggable elements, such as scrolling</span><br><span class="line">     * a list within a vertical drawer where the drawer begins dragging once the edge of inner</span><br><span class="line">     * scrolling content is reached.&lt;/p&gt;</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> target 滚动的子视图</span><br><span class="line">     * <span class="doctag">@param</span> dxConsumed 手指产生的触摸距离中，子视图消耗的x方向的距离</span><br><span class="line">     * <span class="doctag">@param</span> dyConsumed 手指产生的触摸距离中，子视图消耗的y方向的距离 ，如果 onNestedPreScroll 中 dy = 20， consumed[0] = 8，那么 dy = 12</span><br><span class="line">      * <span class="doctag">@param</span> dxUnconsumed 手指产生的触摸距离中，未被子视图消耗的x方向的距离</span><br><span class="line">     * <span class="doctag">@param</span> dyUnconsumed 手指产生的触摸距离中，未被子视图消耗的y方向的距离</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNestedScroll</span><span class="params">(View target, <span class="keyword">int</span> dxConsumed, <span class="keyword">int</span> dyConsumed,<span class="keyword">int</span> dxUnconsumed, <span class="keyword">int</span> dyUnconsumed)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 响应嵌套滚动结束</span><br><span class="line">     *</span><br><span class="line">     * 当一个嵌套滚动结束后（如MotionEvent#ACTION_UP， MotionEvent#ACTION_CANCEL）会调用该方法，在这里可有做一些收尾工作，比如变量重置</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopNestedScroll</span><span class="params">(View target)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 手指在屏幕快速滑触发Fling前回调，如果前面 onNestedPreScroll 中父布局消耗了事件，那么这个也会被触发</span><br><span class="line">     * 返回true表示父布局完全处理 fling 事件</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> target 滚动的子视图</span><br><span class="line">     * <span class="doctag">@param</span> velocityX x方向的速度（px/s）</span><br><span class="line">     * <span class="doctag">@param</span> velocityY y方向的速度</span><br><span class="line">     * <span class="doctag">@return</span> true if this parent consumed the fling ahead of the target view</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNestedPreFling</span><span class="params">(View target, <span class="keyword">float</span> velocityX, <span class="keyword">float</span> velocityY)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 子视图fling 时回调，父布局可以选择监听子视图的 fling。</span><br><span class="line">     * true 表示父布局处理 fling，false表示父布局监听子视图的fling</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> target View that initiated the nested scroll</span><br><span class="line">     * <span class="doctag">@param</span> velocityX Horizontal velocity in pixels per second</span><br><span class="line">     * <span class="doctag">@param</span> velocityY Vertical velocity in pixels per second</span><br><span class="line">     * <span class="doctag">@param</span> consumed true 表示子视图处理了fling</span><br><span class="line"></span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onNestedFling</span><span class="params">(View target, <span class="keyword">float</span> velocityX, <span class="keyword">float</span> velocityY, <span class="keyword">boolean</span> consumed)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 返回当前 NestedScrollingParent 的滚动方向，</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@return</span></span><br><span class="line">     * <span class="doctag">@see</span> ViewCompat#SCROLL_AXIS_HORIZONTAL</span><br><span class="line">     * <span class="doctag">@see</span> ViewCompat#SCROLL_AXIS_VERTICAL</span><br><span class="line">     * <span class="doctag">@see</span> ViewCompat#SCROLL_AXIS_NONE</span><br><span class="line">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNestedScrollAxes</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="NestedScrollingParent_接口">NestedScrollingParent 接口</h2><p><strong>接口</strong>（android.support.v4.view.NestedScrollingParent）</p>
<blockquote>
<p>Nested : 嵌套的</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:left">几个实现类</th>
<th style="text-align:left">介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CoordinatorLayout</td>
<td style="text-align:left">非常强大，协调它里面 View 的嵌套滑动</td>
</tr>
<tr>
<td style="text-align:left">NestedScrollView</td>
<td style="text-align:left">类似 ScrollView, 但是支持嵌套滑动的</td>
</tr>
<tr>
<td style="text-align:left">SwipeRefreshLayout</td>
<td style="text-align:left">SwipeRefreshLayout 支持竖直方向的下拉刷新控件</td>
</tr>
</tbody>
</table>]]>
    
    </summary>
    
      <category term="Android" scheme="http://hanks.xyz/tags/Android/"/>
    
      <category term="NestedScrolling" scheme="http://hanks.xyz/tags/NestedScrolling/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[学习 iOS 中 UITableView]]></title>
    <link href="http://hanks.xyz/2016/04/21/iOS-TableView/"/>
    <id>http://hanks.xyz/2016/04/21/iOS-TableView/</id>
    <published>2016-04-20T16:30:29.000Z</published>
    <updated>2016-04-20T17:18:54.000Z</updated>
    <content type="html"><![CDATA[<p><code>iOS</code> 中的列表对应的控件为 <code>UITableView</code> ，可以通过给 <code>UITableView</code> 设置数据源来显示不同的数据。结合 Android 开发给 RecyclerView 或者 ListView 显示数据的步骤:</p>
<ol>
<li>界面中添加 ListView （xml）</li>
<li>代码中拿到 ListView 的引用（findViewById）</li>
<li>设置 ListView 的 item 的个数（一般为数据源的个数）</li>
<li>创建每个 item 的布局（xml）</li>
<li>设置 ListView 对应每个位置的 item 显示的内容（数据源的每一项）</li>
<li>刷新界面 adapter 的 notifyDataSetChanged()</li>
</ol>
<p>iOS 使用 UITableView 的步骤：</p>
<ol>
<li>界面中添加 UITableView （storyboard）</li>
<li>代码中拿到 UITableView 的引用 （按住 ctrl 拖动控件到代码中引用）</li>
<li>设置 UITableView 的 cell 的个数（一般为数据源的个数）</li>
<li>创建每个 item 的布局 （xib）</li>
<li>设置 UITableView 对应每个位置的 cell 显示的内容（数据源的每一项）</li>
<li>刷新界面 tableview 的 reloadData()</li>
</ol>
<a id="more"></a>
<h3 id="设置两个协议（类似于接口）：">设置两个协议（类似于接口）：</h3><ul>
<li><strong>UITableViewDataSource</strong>（data source），用于设置数据  </li>
<li><strong>UITableViewDelegate</strong>（delegate），用于处理 TableView 的交互（比如点击，添加、删除、移动，header、footer等）</li>
</ul>
<h3 id="有两个方法需要去实现：">有两个方法需要去实现：</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每个section需要加载多少行，一般选择返回数据源的个数</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 返回 UITableViewCell，UITableViewCell 是 section 里的行（某一行或者所有行），根据 indexPath 来显示不同的内容到 Cell</span></span><br><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>代码：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ArticleListController.swift</span></span><br><span class="line"><span class="comment">//  AndroidDaily</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by hanks on 16/4/17.</span></span><br><span class="line"><span class="comment">//  Copyright © 2016年 hanks. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArticleListController</span>: <span class="title">UIViewController</span>, <span class="title">UITableViewDelegate</span>, <span class="title">UITableViewDataSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> articleList = [<span class="type">Article</span>]()</span><br><span class="line">    <span class="keyword">var</span> tableView : <span class="type">UITableView</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">        initView()</span><br><span class="line">        initData()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Uncomment the following line to preserve selection between presentations</span></span><br><span class="line">        <span class="comment">// self.clearsSelectionOnViewWillAppear = false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Uncomment the following line to display an Edit button in the navigation bar for this view controller.</span></span><br><span class="line">        <span class="comment">// self.navigationItem.rightBarButtonItem = self.editButtonItem()</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">initView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// 初始化tableView的数据</span></span><br><span class="line">        <span class="keyword">self</span>.tableView=<span class="type">UITableView</span>(frame:<span class="keyword">self</span>.view.frame,style:<span class="type">UITableViewStyle</span>.<span class="type">Plain</span>)</span><br><span class="line">        <span class="comment">// 设置tableView的数据源</span></span><br><span class="line">        <span class="keyword">self</span>.tableView!.dataSource=<span class="keyword">self</span></span><br><span class="line">        <span class="comment">// 设置tableView的委托</span></span><br><span class="line">        <span class="keyword">self</span>.tableView!.delegate = <span class="keyword">self</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.tableView!.registerNib(<span class="type">UINib</span>(nibName: <span class="string">"ArticleCell"</span>,bundle: <span class="literal">nil</span>), forCellReuseIdentifier: <span class="string">"articleCell"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.tableView!.rowHeight = <span class="type">UITableViewAutomaticDimension</span> <span class="comment">// 自适应，注意需要 设置所以控件的 left, right, bottom, top 约束 才会生效</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.tableView!.estimatedRowHeight = <span class="number">110</span> <span class="comment">//估算高度，提高性能</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.view.addSubview(<span class="keyword">self</span>.tableView!)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">initData</span><span class="params">()</span></span> &#123;</span><br><span class="line">         </span><br><span class="line">        <span class="keyword">let</span> url = <span class="type">NSURL</span>(string: <span class="string">"https://api.hanks.xyz/1.1/Articles?limit=30&amp;order=-createdAt"</span>)! <span class="comment">// url 瞎写的</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> requset = <span class="type">NSMutableURLRequest</span>(<span class="type">URL</span>: url)</span><br><span class="line">        requset.allHTTPHeaderFields = headers</span><br><span class="line">        </span><br><span class="line">        <span class="type">NSURLConnection</span>.sendAsynchronousRequest(requset, queue: <span class="type">NSOperationQueue</span>()) &#123; (<span class="number">_</span>, data, e) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> e == <span class="literal">nil</span> &#123;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">let</span> json  = <span class="keyword">try</span>? <span class="type">NSJSONSerialization</span></span><br><span class="line">                    .<span class="type">JSONObjectWithData</span>(data!, options:<span class="type">NSJSONReadingOptions</span>.<span class="type">AllowFragments</span>) <span class="keyword">as</span>! <span class="type">NSDictionary</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">let</span> result = json?[<span class="string">"results"</span>] <span class="keyword">as</span>! <span class="type">Array</span>&lt;<span class="type">Article</span>&gt; <span class="keyword">as</span> <span class="type">NSArray</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">for</span> item <span class="keyword">in</span> result &#123;</span><br><span class="line">                    <span class="keyword">let</span> article = <span class="type">Article</span>()</span><br><span class="line">                    </span><br><span class="line">                    article.title = item.valueForKey(<span class="string">"title"</span>) <span class="keyword">as</span>? <span class="type">String</span></span><br><span class="line">                    article.subTitle = item.valueForKey(<span class="string">"subtitle"</span>) <span class="keyword">as</span>? <span class="type">String</span></span><br><span class="line">                    article.authorName = item.valueForKey(<span class="string">"author_name"</span>) <span class="keyword">as</span>? <span class="type">String</span></span><br><span class="line">                    <span class="keyword">self</span>.articleList.append(article)</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// UI 操作放在 UI 线程</span></span><br><span class="line">                dispatch_async(dispatch_get_main_queue(), &#123; </span><br><span class="line">                    <span class="keyword">self</span>.tableView!.reloadData()</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">didReceiveMemoryWarning</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.didReceiveMemoryWarning()</span><br><span class="line">        <span class="comment">// Dispose of any resources that can be recreated.</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MARK: - Table view data source</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="comment">// #warning Incomplete implementation, return the number of rows</span></span><br><span class="line">        <span class="keyword">return</span> articleList.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> cell = tableView .dequeueReusableCellWithIdentifier(<span class="string">"articleCell"</span>, forIndexPath: indexPath) <span class="keyword">as</span>! <span class="type">ArticleCell</span></span><br><span class="line">        cell.setData(articleList[indexPath.row])</span><br><span class="line">        <span class="keyword">return</span> cell;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ArticleCell</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ArticleCell.swift</span></span><br><span class="line"><span class="comment">//  AndroidDaily</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by hanks on 16/4/20.</span></span><br><span class="line"><span class="comment">//  Copyright © 2016年 hanks. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArticleCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="preprocessor">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> titleLabel: <span class="type">UILabel</span>!</span><br><span class="line">    <span class="preprocessor">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> authorLabel: <span class="type">UILabel</span>!</span><br><span class="line">    <span class="preprocessor">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> subtitleLabel: <span class="type">UILabel</span>!</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">awakeFromNib</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.awakeFromNib()</span><br><span class="line">        <span class="comment">// Initialization code</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">setSelected</span><span class="params">(selected: Bool, animated: Bool)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.setSelected(selected, animated: animated)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Configure the view for the selected state</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">setData</span><span class="params">(article:Article)</span></span>  &#123;</span><br><span class="line">        titleLabel.text = article.title</span><br><span class="line">        authorLabel.text = article.authorName </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置label 行高</span></span><br><span class="line">        <span class="keyword">let</span> text = subtitleLabel.attributedText</span><br><span class="line">        <span class="keyword">let</span> mas = <span class="type">NSMutableAttributedString</span>(attributedString:text!)</span><br><span class="line">        mas.replaceCharactersInRange(<span class="type">NSMakeRange</span>(<span class="number">0</span>, mas.string.utf16.<span class="built_in">count</span>),</span><br><span class="line">                                     withString: article.subTitle!)</span><br><span class="line">        subtitleLabel.attributedText = mas</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p><code>iOS</code> 中的列表对应的控件为 <code>UITableView</code> ，可以通过给 <code>UITableView</code> 设置数据源来显示不同的数据。结合 Android 开发给 RecyclerView 或者 ListView 显示数据的步骤:</p>
<ol>
<li>界面中添加 ListView （xml）</li>
<li>代码中拿到 ListView 的引用（findViewById）</li>
<li>设置 ListView 的 item 的个数（一般为数据源的个数）</li>
<li>创建每个 item 的布局（xml）</li>
<li>设置 ListView 对应每个位置的 item 显示的内容（数据源的每一项）</li>
<li>刷新界面 adapter 的 notifyDataSetChanged()</li>
</ol>
<p>iOS 使用 UITableView 的步骤：</p>
<ol>
<li>界面中添加 UITableView （storyboard）</li>
<li>代码中拿到 UITableView 的引用 （按住 ctrl 拖动控件到代码中引用）</li>
<li>设置 UITableView 的 cell 的个数（一般为数据源的个数）</li>
<li>创建每个 item 的布局 （xib）</li>
<li>设置 UITableView 对应每个位置的 cell 显示的内容（数据源的每一项）</li>
<li>刷新界面 tableview 的 reloadData()</li>
</ol>]]>
    
    </summary>
    
      <category term="iOS" scheme="http://hanks.xyz/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Ubuntu 上搭建 LAMP 环境]]></title>
    <link href="http://hanks.xyz/2016/04/14/Ubuntu-lamp/"/>
    <id>http://hanks.xyz/2016/04/14/Ubuntu-lamp/</id>
    <published>2016-04-14T15:14:53.000Z</published>
    <updated>2016-04-16T12:30:09.000Z</updated>
    <content type="html"><![CDATA[<p>记得前两年玩 <code>PHP</code> 的时候 windows 下有个 <code>wamp</code>的集成环境，一个安装包，直接安装就搭建好了，还带 mysql 管理界面。</p>
<a id="more"></a>
<h2 id="传统安装">传统安装</h2><p>依次安装 apache2、php5、mysql-server、php5-mysql 。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get <span class="operator"><span class="keyword">install</span> apache2</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> php5</span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> mysql-<span class="keyword">server</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> <span class="keyword">install</span> php5-mysql</span></span><br></pre></td></tr></table></figure>
<h2 id="使用_tasksel_安装">使用 tasksel 安装</h2><p>使用 <code>tasksel</code> 可以很方便的安装 <code>lamp</code> 环境。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"># 安装 tasksel</span></span><br><span class="line">$ sudo apt-<span class="keyword">get</span> install tasksel</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># 使用 tasksel 安装 LAMP</span></span><br><span class="line">$ sudo tasksel install lamp-server</span><br></pre></td></tr></table></figure>
<p>或者直接执行：<code>sudo tasksel</code><br>然后在tasksel界面中选LAMP-Server就OK了。<br><img src="https://dn-coding-net-production-pp.qbox.me/fb72935c-c892-4a11-a6b9-a65989074bd4.jpg" alt="选择服务"> </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/bef520be-7c1c-437f-a79d-b73ad76a5845.jpg" alt="安装中..."> </p>
<p>安装过程中会提示你输入mysql的root密码。安装完成可以检测一下各个环境是否安装完成。</p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>记得前两年玩 <code>PHP</code> 的时候 windows 下有个 <code>wamp</code>的集成环境，一个安装包，直接安装就搭建好了，还带 mysql 管理界面。</p>]]>
    
    </summary>
    
      <category term="LAMP" scheme="http://hanks.xyz/tags/LAMP/"/>
    
      <category term="Ubuntu" scheme="http://hanks.xyz/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[强大的 RxJava 也要进行错误处理]]></title>
    <link href="http://hanks.xyz/2016/04/14/rxjava-error/"/>
    <id>http://hanks.xyz/2016/04/14/rxjava-error/</id>
    <published>2016-04-14T14:35:16.000Z</published>
    <updated>2016-04-14T15:01:17.000Z</updated>
    <content type="html"><![CDATA[<p>onNext, onComplete, onError，<code>onError</code> 在 <code>Observable</code> 序列传递过程中出现异常时被调用，然后终止<code>Observable</code> 序列的传递，以此通知所有的观察者发生了一个不可恢复的错误。但是有好多时候需要我们手动去终止序列，例如当序列传递时不满足某个条件了就不在进行后续的操作，这可能并不是一个异常，需要我们手动抛出。<br><a id="more"></a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, null, <span class="number">6</span>)</span><br><span class="line">          .doOnNext(integer1 -&gt; System.out.println(<span class="number">1.0</span> / integer1))</span><br><span class="line">          .subscribe(integer -&gt; System.out.println(<span class="string">"integer = "</span> + integer),</span><br><span class="line">                     throwable -&gt; System.out.println(<span class="string">"throwable = "</span> + throwable));</span><br></pre></td></tr></table></figure></p>
<p>输出<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.0</span></span><br><span class="line">integer = <span class="number">1</span></span><br><span class="line"><span class="number">0.5</span></span><br><span class="line">integer = <span class="number">2</span></span><br><span class="line"><span class="number">0.3333333333333333</span></span><br><span class="line">integer = <span class="number">3</span></span><br><span class="line"><span class="number">0.25</span></span><br><span class="line">integer = <span class="number">4</span></span><br><span class="line">throwable = java.lang.NullPointerException</span><br></pre></td></tr></table></figure></p>
<p>正常情况下，<code>Observable</code> 序列在传递过程中出现错误会调用 <code>onError</code> 终止序列。 看下面的情况：</p>
<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="string">"file1"</span>, <span class="string">"file2"</span>,<span class="string">"file3"</span>)</span><br><span class="line">        .doOnNext(fileName-&gt;&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">new</span> FileInputStream(fileName);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                <span class="comment">// e.printStackTrace();</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .subscribe(filename -&gt; System.<span class="keyword">out</span>.println(<span class="string">"filename = "</span> + filename),</span><br><span class="line">                throwable -&gt; System.<span class="keyword">out</span>.println(<span class="string">"throwable = "</span> + throwable));</span><br></pre></td></tr></table></figure>
<p>输出<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">filename = <span class="value">file1</span></span></span><br><span class="line"><span class="setting">filename = <span class="value">file2</span></span></span><br><span class="line"><span class="setting">filename = <span class="value">file3</span></span></span><br></pre></td></tr></table></figure></p>
<p>因为使用了 <code>FileInputStream</code> 所以必须进行 <code>try ... catch</code>，但是我想在出现 <code>FileNotFoundException</code> 的异常时回调给 <code>Observable</code> 的 <code>onError</code> 统一处理，这时候就需要将异常抛出。</p>
<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Observable.just(<span class="string">"file1"</span>, <span class="string">"file2"</span>,<span class="string">"file3"</span>)</span><br><span class="line">               .doOnNext(fileName-&gt;&#123;</span><br><span class="line">                   <span class="keyword">try</span> &#123;</span><br><span class="line">                       <span class="keyword">new</span> FileInputStream(fileName);</span><br><span class="line">                   &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                       <span class="keyword">throw</span> Exceptions.propagate(<span class="keyword">new</span> Throwable(<span class="string">"文件找不到"</span>)); <span class="comment">// 抛出异常来中断序列</span></span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;)</span><br><span class="line">               .subscribe(filename -&gt; System.<span class="keyword">out</span>.println(<span class="string">"filename = "</span> + filename),</span><br><span class="line">                       throwable -&gt; System.<span class="keyword">out</span>.println(<span class="string">"throwable = "</span> + throwable));</span><br></pre></td></tr></table></figure>
<p>输出<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">throwable = java<span class="class">.lang</span><span class="class">.RuntimeException</span>: java<span class="class">.lang</span><span class="class">.Throwable</span>: 文件找不到</span><br></pre></td></tr></table></figure></p>
<h3 id="总结">总结</h3><p>通过 <code>throw</code> 关键字抛出异常<br><figure class="highlight golo"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="typename">Observable</span>.just(<span class="string">"Hello!"</span>)  </span><br><span class="line">  .<span class="typename">map</span>(input -&gt; &#123; <span class="keyword">throw</span> new RuntimeException(); &#125;)</span><br><span class="line">  .subscribe(</span><br><span class="line">    System.out::<span class="keyword">println</span>,</span><br><span class="line">    error -&gt; System.out.<span class="keyword">println</span>(<span class="string">"Error!"</span>)</span><br><span class="line">  );</span><br></pre></td></tr></table></figure></p>
<p>当在 <code>FlatMap</code> 中想终止序列，使用 <code>Observable.error()</code></p>
<figure class="highlight golo"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="typename">Observable</span>.just(<span class="string">"Hello!"</span>)  </span><br><span class="line">  .flatMap(input -&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="typename">Observable</span>.just(transform(input));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable t) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="typename">Observable</span>.error(t);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<p>高级异常处理：</p>
<p><code>onErrorReturn</code> ：当发生错误的时候，发射一个默认值然后结束数据流。所以 Subscriber 看不到异常信息，看到的是正常的数据流结束状态。<br><code>onErrorResumeNext</code> ：当错误发生的时候，使用另外一个数据流继续发射数据。在返回的 Observable 中是看不到错误信息的。<br><code>onExceptionResumeNext</code> ：onExceptionResumeNext 和 onErrorResumeNext 的区别是只捕获 Exception；<br><code>retry</code> ：如果发生了不定性的异常，则通常会重试一下看看是否正常了。 retry 的功能就算重新订阅到事件流，并重头重新开始发射数据。<br><code>retryWhen</code> ： retryWhen 的参数是一个函数， 该函数的输入参数为一个异常 Observable，返回值为另外一个 Observable。<br><code>using</code> ：用来管理资源的，如果一个 Observable 需要使用一个资源来发射数据（比如 需要使用一个文件资源，从文件中读取内容），当该 Observable 结束的时候（不管是正常结束还是异常结束）就释放该资源。这样你就不用自己管理资源了， 用 Rx 的方式来管理资源。</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">.flatMap(...)</span><br><span class="line">.flatMap(...)</span><br><span class="line">.onErrorResumeNext(<span class="keyword">new</span> Func1&lt;Throwable, Observable&lt;?&gt;&gt;() &#123;</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Observable&lt;?&gt; call(Throwable throwable) &#123;</span><br><span class="line">        <span class="comment">// Here simply return an Observable which will emit the Throwable of your liking</span></span><br><span class="line">        <span class="keyword">return</span> Observable.<span class="keyword">error</span>(<span class="keyword">new</span> Throwable(...));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.flatMap(...);</span><br></pre></td></tr></table></figure>
<p>参考链接</p>
<ul>
<li><a href="http://blog.danlew.net/2015/12/08/error-handling-in-rxjava/" target="_blank" rel="external">Error handling in RxJava</a></li>
<li><a href="http://blog.chengyunfeng.com/?p=970" target="_blank" rel="external">RxJava 教程第三部分：驯服数据流之 高级错误处理</a></li>
</ul>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>onNext, onComplete, onError，<code>onError</code> 在 <code>Observable</code> 序列传递过程中出现异常时被调用，然后终止<code>Observable</code> 序列的传递，以此通知所有的观察者发生了一个不可恢复的错误。但是有好多时候需要我们手动去终止序列，例如当序列传递时不满足某个条件了就不在进行后续的操作，这可能并不是一个异常，需要我们手动抛出。<br>]]>
    
    </summary>
    
      <category term="RxJava" scheme="http://hanks.xyz/tags/RxJava/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[购买搬瓦工 VPS]]></title>
    <link href="http://hanks.xyz/2016/04/12/buy-vps/"/>
    <id>http://hanks.xyz/2016/04/12/buy-vps/</id>
    <published>2016-04-12T15:37:51.000Z</published>
    <updated>2016-04-12T15:59:41.000Z</updated>
    <content type="html"><![CDATA[<p>买一个搬瓦工的 <code>VPS</code> 玩玩，<a href="https://bandwagonhost.com" target="_blank" rel="external">官网</a><br><a id="more"></a><br><img src="https://dn-coding-net-production-pp.qbox.me/5bf4d6fe-80b2-4353-9c9a-e10bf5e792e5.png" alt="购买"> </p>
<p>可以使用支付宝付款，买完了在个人的目录下可以看到刚买的 VPS，然后进入控制面板。</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/fedb3081-0936-442b-9e8e-f42f6274b3ba.png" alt="进入管理中心"> </p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/0cea9cc2-0dee-4722-b3c3-18cda88ec47c.png" alt="信息"></p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/824487f5-7ac8-4083-91e4-1fb45f4edc1d.png" alt="安装操作系统"><br>自带的 <code>Center OS</code>，又重新装了 <code>Ubuntu</code></p>
<p>重新设置超级管理员的密码，然后使用 <code>adduser hanks</code> 添加一个 hanks 用户，然后就可以通过 <code>ssh</code> 连接了。</p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>买一个搬瓦工的 <code>VPS</code> 玩玩，<a href="https://bandwagonhost.com">官网</a><br>]]>
    
    </summary>
    
      <category term="VPS" scheme="http://hanks.xyz/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开发一款 APP 要有计划哦]]></title>
    <link href="http://hanks.xyz/2016/04/10/app-need/"/>
    <id>http://hanks.xyz/2016/04/10/app-need/</id>
    <published>2016-04-10T14:37:18.000Z</published>
    <updated>2016-04-10T14:49:59.000Z</updated>
    <content type="html"><![CDATA[<p>封装一些常用类，根据项目需求确定库的选择，项目整体架构，后续扩展的考虑，组件化开发移植到其他平台的可能。</p>
<a id="more"></a>
<blockquote>
<p>下面的以<code>Android</code> 为例`</p>
</blockquote>
<h3 id="Before">Before</h3><p>产品需求文档<br>产品原型<br>设计图</p>
<h3 id="Common">Common</h3><p>Toast<br>Log<br>SharedPerference<br>Dialog<br>Time<br>Sdcard<br>File<br>Database<br>Net<br>ImageLoader<br>camera</p>
<h3 id="List">List</h3><p>Refresh<br>Load more<br>Load finish</p>
<h3 id="Common_View">Common View</h3><p>Loading<br>Empty<br>Net error</p>
<h3 id="Better">Better</h3><p>Analysis<br>CrushReport<br>PushServer<br>Share<br>Animation Interactive</p>
<h3 id="Other">Other</h3><p>git<br>android studio<br>gradle<br>ci<br>optimize</p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>封装一些常用类，根据项目需求确定库的选择，项目整体架构，后续扩展的考虑，组件化开发移植到其他平台的可能。</p>]]>
    
    </summary>
    
      <category term="Android" scheme="http://hanks.xyz/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开发过程的一些总结]]></title>
    <link href="http://hanks.xyz/2016/04/07/thinking-android/"/>
    <id>http://hanks.xyz/2016/04/07/thinking-android/</id>
    <published>2016-04-07T15:45:42.000Z</published>
    <updated>2016-04-10T14:56:09.000Z</updated>
    <content type="html"><![CDATA[<p>记录一些开发过程中的一些感悟。开发一个 App，如 Android，iOS，Web App 等，也就是处理两部分：<strong>界面</strong>，<strong>数据</strong>，还有比较难处理的是数据和界面元素之间的关系。</p>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/08d0f516-4609-4843-a652-65513af76eab.png" alt="MacBook Air I"><br><a id="more"></a><br>一部分时间在开发界面上的东西，文本，图片，列表，如何布局，如何应用动画到各个元素。另一部分在处理数据，从服务器或者其他数据源拿到数据，中间可能经过各种协议，加密解密，这些属于后台逻辑的东西。但是这些都属于基本功，如果基本功不错的话，这两部分应该不难处理。</p>
<p>随着开发时间的累积，开发的应用开始变得复杂，界面多了起来，数据接口的个数也翻了好几倍，这个时候就需要处理数据与界面的对应关系了，考虑什么样的数据显示什么样的界面，于是要把整个应用拆分，处理数据的部分，处理界面元素的部分，还有最重要的<strong>连接数据和界面</strong>的部分。拆分过程重要的一点就是自己一定要分清各部分职责。拿一个简单的点赞按钮，对于界面部分，只处理两个状态，点过赞的状态和没有点过赞的状态，对于数据的逻辑部分，分为发送点赞请求，和取消点赞请求，可能还包含获取是否赞过的接口，然后中间的控制层拿到数据，进行一系列的逻辑处理，来控制界面的显示状态。</p>
<p>开发中理清各部分的关系，尽可能的降低耦合性，对后期维护会有很大帮助。</p>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/e358e4e6-809b-407c-8604-65bcaec5f829.png" alt="MacBook iPad iPhone Vintage Camera"> </p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>记录一些开发过程中的一些感悟。开发一个 App，如 Android，iOS，Web App 等，也就是处理两部分：<strong>界面</strong>，<strong>数据</strong>，还有比较难处理的是数据和界面元素之间的关系。</p>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/08d0f516-4609-4843-a652-65513af76eab.png" alt="MacBook Air I"><br>]]>
    
    </summary>
    
      <category term="Android" scheme="http://hanks.xyz/tags/Android/"/>
    
      <category term="总结" scheme="http://hanks.xyz/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用 Vue.js 创建的 Calendar]]></title>
    <link href="http://hanks.xyz/2016/04/03/vuejs-calander/"/>
    <id>http://hanks.xyz/2016/04/03/vuejs-calander/</id>
    <published>2016-04-03T12:18:39.000Z</published>
    <updated>2016-04-03T12:56:28.000Z</updated>
    <content type="html"><![CDATA[<p>使用 <code>Vue.js</code> 进行数据与视图的绑定，数据更新会让视图自动进行更新，类似 <code>Android</code> 里面的 <code>DataBinding</code>。<br>实现一个 HTML的 日历效果。</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/ee3e476f-dddc-41e2-863b-f11f3691b77e.png" alt="日历"> </p>
<a id="more"></a>
<p><img src="https://dn-coding-net-production-pp.qbox.me/9a3175ce-6aea-4b39-acb2-410b9db902da.gif" alt="日历"> </p>
<p>html 部分<br><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"calendar"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 年份 月份 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"month"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"arrow"</span> @<span class="attribute">click</span>=<span class="value">"pickPre(currentYear,currentMonth)"</span>&gt;</span>❮<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"year-month"</span> @<span class="attribute">click</span>=<span class="value">"pickYear(currentYear,currentMonth)"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"choose-year"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">currentYear</span> &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"choose-month"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">currentMonth</span> &#125;&#125;</span><span class="xml">月<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"arrow"</span> @<span class="attribute">click</span>=<span class="value">"pickNext(currentYear,currentMonth)"</span>&gt;</span>❯<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 星期 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"weekdays"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>一<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>二<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>三<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>四<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span>五<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span> <span class="attribute">style</span>=<span class="value">"color:red"</span>&gt;</span>六<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span> <span class="attribute">style</span>=<span class="value">"color:red"</span>&gt;</span>日<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 日期 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"days"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span> @<span class="attribute">click</span>=<span class="value">"pick(day)"</span> <span class="attribute">v-for</span>=<span class="value">"day in days"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--本月--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-if</span>=<span class="value">"day.getMonth()+1 != currentMonth"</span> <span class="attribute">class</span>=<span class="value">"other-month"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-else</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--今天--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-if</span>=<span class="value">"day.getFullYear() == new Date().getFullYear() &amp;&amp; day.getMonth() == new Date().getMonth() &amp;&amp; day.getDate() == new Date().getDate()"</span> <span class="attribute">class</span>=<span class="value">"active"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-else</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>id</code> 为 <strong>calendar</strong> 对应的创建一个 <code>Vue</code> 对象，设置 <code>el</code> 为 <strong>‘#calendar’</strong>。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">    <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        el: <span class="string">'#calendar'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            currentDay: <span class="number">1</span>,</span><br><span class="line">            currentMonth: <span class="number">1</span>,</span><br><span class="line">            currentYear: <span class="number">1970</span>,</span><br><span class="line">            currentWeek: <span class="number">1</span>,</span><br><span class="line">            days: [],</span><br><span class="line">        &#125;,</span><br><span class="line">        created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.initData(<span class="literal">null</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            initData: <span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> date;</span><br><span class="line">                <span class="keyword">if</span> (cur) &#123;</span><br><span class="line">                    date = <span class="keyword">new</span> <span class="built_in">Date</span>(cur);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>.currentDay = date.getDate();</span><br><span class="line">                <span class="keyword">this</span>.currentYear = date.getFullYear();</span><br><span class="line">                <span class="keyword">this</span>.currentMonth = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">this</span>.currentWeek = date.getDay(); <span class="comment">// 1...6,0</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.currentWeek == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">this</span>.currentWeek = <span class="number">7</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="keyword">this</span>.formatDate(<span class="keyword">this</span>.currentYear , <span class="keyword">this</span>.currentMonth, <span class="keyword">this</span>.currentDay);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"today:"</span> + str + <span class="string">","</span> + <span class="keyword">this</span>.currentWeek);</span><br><span class="line">                <span class="keyword">this</span>.days.length = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">// 今天是周日，放在第一行第7个位置，前面6个</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="keyword">this</span>.currentWeek - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(str);</span><br><span class="line">                    d.setDate(d.getDate() - i);</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"y:"</span> + d.getDate());</span><br><span class="line">                    <span class="keyword">this</span>.days.push(d);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">35</span> - <span class="keyword">this</span>.currentWeek; i++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(str);</span><br><span class="line">                    d.setDate(d.getDate() + i);</span><br><span class="line">                    <span class="keyword">this</span>.days.push(d);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            pick: <span class="function"><span class="keyword">function</span>(<span class="params">date</span>) </span>&#123;</span><br><span class="line">                alert(<span class="keyword">this</span>.formatDate( date.getFullYear() , date.getMonth() + <span class="number">1</span>, date.getDate()));</span><br><span class="line">            &#125;,</span><br><span class="line">            pickPre: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                <span class="comment">//  setDate(0); 上月最后一天</span></span><br><span class="line">                <span class="comment">//  setDate(-1); 上月倒数第二天</span></span><br><span class="line">                <span class="comment">//  setDate(dx) 参数dx为 上月最后一天的前后dx天</span></span><br><span class="line">                <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.formatDate(year , month , <span class="number">1</span>));</span><br><span class="line">                d.setDate(<span class="number">0</span>);</span><br><span class="line">                <span class="keyword">this</span>.initData(<span class="keyword">this</span>.formatDate(d.getFullYear(),d.getMonth() + <span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">            &#125;,</span><br><span class="line">            pickNext: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.formatDate(year , month , <span class="number">1</span>));</span><br><span class="line">                d.setDate(<span class="number">35</span>);</span><br><span class="line">                <span class="keyword">this</span>.initData(<span class="keyword">this</span>.formatDate(d.getFullYear(),d.getMonth() + <span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">            &#125;,</span><br><span class="line">            pickYear: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                alert(year + <span class="string">","</span> + month);</span><br><span class="line">            &#125;,</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 返回 类似 2016-01-02 格式的字符串</span></span><br><span class="line">            formatDate: <span class="function"><span class="keyword">function</span>(<span class="params">year,month,day</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">var</span> y  = year;</span><br><span class="line">                <span class="keyword">var</span> m = month;</span><br><span class="line">                <span class="keyword">if</span>(m&lt;<span class="number">10</span>) m = <span class="string">"0"</span> + m;</span><br><span class="line">                <span class="keyword">var</span> d = day;</span><br><span class="line">                <span class="keyword">if</span>(d&lt;<span class="number">10</span>) d = <span class="string">"0"</span> + d;</span><br><span class="line">                <span class="keyword">return</span> y+<span class="string">"-"</span>+m+<span class="string">"-"</span>+d</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>完整代码：</p>
<figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">title</span>&gt;</span>日历<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>&gt;</span><span class="css"></span><br><span class="line">            * <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">box-sizing</span>:<span class="value"> border-box</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">ul</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">list-style-type</span>:<span class="value"> none</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="tag">body</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">font-family</span>:<span class="value"> Verdana, sans-serif</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#E8F0F3</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            <span class="id">#calendar</span><span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">width</span>:<span class="value"><span class="number">80%</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span> auto</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">box-shadow</span>:<span class="value"> <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.14</span>), <span class="number">0</span> <span class="number">3px</span> <span class="number">1px</span> -<span class="number">2px</span> <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> <span class="function">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.12</span>)</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            <span class="class">.month</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#00B8EC</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.month</span> <span class="tag">ul</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> space-between</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.year-month</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">flex-direction</span>:<span class="value"> column</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">align-items</span>:<span class="value"> center</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> space-around</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.year-month</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">rgba</span>(<span class="number">150</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">0.1</span>)</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.choose-year</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">padding-left</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">padding-right</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.choose-month</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">1.5rem</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.arrow</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">30px</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.arrow</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">rgba</span>(<span class="number">100</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">0.1</span>)</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.month</span> <span class="tag">ul</span> <span class="tag">li</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">color</span>:<span class="value"> white</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">20px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">text-transform</span>:<span class="value"> uppercase</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">letter-spacing</span>:<span class="value"> <span class="number">3px</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.weekdays</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">10px</span> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#00B8EC</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">flex-wrap</span>:<span class="value"> wrap</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#FFFFFF</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> space-around</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.weekdays</span> <span class="tag">li</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">13.6%</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.days</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#FFFFFF</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">flex-wrap</span>:<span class="value"> wrap</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">justify-content</span>:<span class="value"> space-around</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.days</span> <span class="tag">li</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">list-style-type</span>:<span class="value"> none</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">14.2%</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center</span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">padding-bottom</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">padding-top</span>:<span class="value"> <span class="number">15px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">1rem</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#000</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.days</span> <span class="tag">li</span> <span class="class">.active</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">6px</span> <span class="number">10px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">border-radius</span>:<span class="value"> <span class="number">50%</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#00B8EC</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.days</span> <span class="tag">li</span> <span class="class">.other-month</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">5px</span></span></span>;</span><br><span class="line">                <span class="rule"><span class="attribute">color</span>:<span class="value"> gainsboro</span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">            </span><br><span class="line">            <span class="class">.days</span> <span class="tag">li</span><span class="pseudo">:hover</span> <span class="rules">&#123;</span><br><span class="line">                <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#e1e1e1</span></span></span>;</span><br><span class="line">            &#125;</span></span><br><span class="line">        </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">h1</span>&gt;</span>CSS 日历<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"calendar"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"month"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"arrow"</span> @<span class="attribute">click</span>=<span class="value">"pickPre(currentYear,currentMonth)"</span>&gt;</span>❮<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"year-month"</span> @<span class="attribute">click</span>=<span class="value">"pickYear(currentYear,currentMonth)"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"choose-year"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">currentYear</span> &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"choose-month"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">currentMonth</span> &#125;&#125;</span><span class="xml">月<span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">li</span> <span class="attribute">class</span>=<span class="value">"arrow"</span> @<span class="attribute">click</span>=<span class="value">"pickNext(currentYear,currentMonth)"</span>&gt;</span>❯<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"weekdays"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span>&gt;</span>一<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span>&gt;</span>二<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span>&gt;</span>三<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span>&gt;</span>四<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span>&gt;</span>五<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span> <span class="attribute">style</span>=<span class="value">"color:red"</span>&gt;</span>六<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span> <span class="attribute">style</span>=<span class="value">"color:red"</span>&gt;</span>日<span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"days"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">li</span> @<span class="attribute">click</span>=<span class="value">"pick(day)"</span> <span class="attribute">v-for</span>=<span class="value">"day in days"</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--今天--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-if</span>=<span class="value">"day.getMonth()+1 != currentMonth"</span> <span class="attribute">class</span>=<span class="value">"other-month"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-else</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--今天--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-if</span>=<span class="value">"day.getFullYear() == new Date().getFullYear() &amp;&amp; day.getMonth() == new Date().getMonth() &amp;&amp; day.getDate() == new Date().getDate()"</span> <span class="attribute">class</span>=<span class="value">"active"</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">v-else</span>&gt;</span></span><span class="expression">&#123;&#123; <span class="variable">day.getDate</span>() &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.18/vue.min.js"</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">            <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">                el: <span class="string">'#calendar'</span>,</span><br><span class="line">                data: &#123;</span><br><span class="line">                    currentDay: <span class="number">1</span>,</span><br><span class="line">                    currentMonth: <span class="number">1</span>,</span><br><span class="line">                    currentYear: <span class="number">1970</span>,</span><br><span class="line">                    currentWeek: <span class="number">1</span>,</span><br><span class="line">                    days: [],</span><br><span class="line">                &#125;,</span><br><span class="line">                created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>.initData(<span class="literal">null</span>);</span><br><span class="line">                &#125;,</span><br><span class="line">                methods: &#123;</span><br><span class="line">                    initData: <span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> date;</span><br><span class="line">                        <span class="keyword">if</span> (cur) &#123;</span><br><span class="line">                            date = <span class="keyword">new</span> <span class="built_in">Date</span>(cur);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">this</span>.currentDay = date.getDate();</span><br><span class="line">                        <span class="keyword">this</span>.currentYear = date.getFullYear();</span><br><span class="line">                        <span class="keyword">this</span>.currentMonth = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">this</span>.currentWeek = date.getDay(); <span class="comment">// 1...6,0</span></span><br><span class="line">                        <span class="keyword">if</span> (<span class="keyword">this</span>.currentWeek == <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="keyword">this</span>.currentWeek = <span class="number">7</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">var</span> str = <span class="keyword">this</span>.formatDate(<span class="keyword">this</span>.currentYear , <span class="keyword">this</span>.currentMonth, <span class="keyword">this</span>.currentDay);</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">"today:"</span> + str + <span class="string">","</span> + <span class="keyword">this</span>.currentWeek);</span><br><span class="line">                        <span class="keyword">this</span>.days.length = <span class="number">0</span>;</span><br><span class="line">                        <span class="comment">// 今天是周日，放在第一行第7个位置，前面6个</span></span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="keyword">this</span>.currentWeek - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                            <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(str);</span><br><span class="line">                            d.setDate(d.getDate() - i);</span><br><span class="line">                            <span class="built_in">console</span>.log(<span class="string">"y:"</span> + d.getDate());</span><br><span class="line">                            <span class="keyword">this</span>.days.push(d);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">35</span> - <span class="keyword">this</span>.currentWeek; i++) &#123;</span><br><span class="line">                            <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(str);</span><br><span class="line">                            d.setDate(d.getDate() + i);</span><br><span class="line">                            <span class="keyword">this</span>.days.push(d);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    pick: <span class="function"><span class="keyword">function</span>(<span class="params">date</span>) </span>&#123;</span><br><span class="line">                        alert(<span class="keyword">this</span>.formatDate( date.getFullYear() , date.getMonth() + <span class="number">1</span>, date.getDate()));</span><br><span class="line">                    &#125;,</span><br><span class="line">                    pickPre: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                        <span class="comment">//  setDate(0); 上月最后一天</span></span><br><span class="line">                        <span class="comment">//  setDate(-1); 上月倒数第二天</span></span><br><span class="line">                        <span class="comment">//  setDate(dx) 参数dx为 上月最后一天的前后dx天</span></span><br><span class="line">                        <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.formatDate(year , month , <span class="number">1</span>));</span><br><span class="line">                        d.setDate(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">this</span>.initData(<span class="keyword">this</span>.formatDate(d.getFullYear(),d.getMonth() + <span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">                    &#125;,</span><br><span class="line">                    pickNext: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="keyword">this</span>.formatDate(year , month , <span class="number">1</span>));</span><br><span class="line">                        d.setDate(<span class="number">35</span>);</span><br><span class="line">                        <span class="keyword">this</span>.initData(<span class="keyword">this</span>.formatDate(d.getFullYear(),d.getMonth() + <span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">                    &#125;,</span><br><span class="line">                    pickYear: <span class="function"><span class="keyword">function</span>(<span class="params">year, month</span>) </span>&#123;</span><br><span class="line">                        alert(year + <span class="string">","</span> + month);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// 返回 类似 2016-01-02 格式的字符串</span></span><br><span class="line">                    formatDate: <span class="function"><span class="keyword">function</span>(<span class="params">year,month,day</span>)</span>&#123;</span><br><span class="line">                        <span class="keyword">var</span> y  = year;</span><br><span class="line">                        <span class="keyword">var</span> m = month;</span><br><span class="line">                        <span class="keyword">if</span>(m&lt;<span class="number">10</span>) m = <span class="string">"0"</span> + m;</span><br><span class="line">                        <span class="keyword">var</span> d = day;</span><br><span class="line">                        <span class="keyword">if</span>(d&lt;<span class="number">10</span>) d = <span class="string">"0"</span> + d;</span><br><span class="line">                        <span class="keyword">return</span> y+<span class="string">"-"</span>+m+<span class="string">"-"</span>+d</span><br><span class="line">                    &#125;,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">        </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>使用 <code>Vue.js</code> 进行数据与视图的绑定，数据更新会让视图自动进行更新，类似 <code>Android</code> 里面的 <code>DataBinding</code>。<br>实现一个 HTML的 日历效果。</p>
<p><img src="https://dn-coding-net-production-pp.qbox.me/ee3e476f-dddc-41e2-863b-f11f3691b77e.png" alt="日历"> </p>]]>
    
    </summary>
    
      <category term="HTML/CSS" scheme="http://hanks.xyz/tags/HTML-CSS/"/>
    
      <category term="Vue.js" scheme="http://hanks.xyz/tags/Vue-js/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[学习 Jade]]></title>
    <link href="http://hanks.xyz/2016/03/29/learn-jade/"/>
    <id>http://hanks.xyz/2016/03/29/learn-jade/</id>
    <published>2016-03-29T14:13:38.000Z</published>
    <updated>2016-03-29T15:32:32.000Z</updated>
    <content type="html"><![CDATA[<p>优秀的模板引擎 <code>Jade</code> ，减少写代码，提高可读性，提高生活质量。。。</p>
<a id="more"></a>
<h2 id="为什么需要_Jade_？">为什么需要 Jade ？</h2><p>减少写代码，提高可读性，提高生活质量。。。</p>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/8ca2aa51-11a2-4ae7-ab3e-671fc10629d1.png" alt="html">  </p>
<p>这一层一层的。。。</p>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/82be566f-3cde-441b-87be-e6d2f028e48b.png" alt="图片"> </p>
<p>看 <code>jade</code> 的这个拼接。</p>
<p>Jade 优点： </p>
<ul>
<li>超强的可读性</li>
<li>灵活的缩进</li>
<li>块扩展</li>
<li>代码默认经过编码处理以增强安全性</li>
<li>编译及运行时的上下文错误报告</li>
<li>命令行的编译支持</li>
<li>HTML5 模式</li>
<li>可选的内存缓存</li>
<li>利用过滤器解析树的处理</li>
</ul>
<p>后面说的什么鬼其实我也不懂，但是最大优点: <strong>超强的可读性</strong>，<strong>提升开发效率</strong>。</p>
<p>需要 Node.js 环境， 没有装的可以参考<a href="http://hanks.xyz/2016/03/17/mac-node-config/">Mac 上配置 Node.js 环境</a></p>
<h2 id="安装_Jade">安装 Jade</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过 npm 安装 jade</span></span><br><span class="line">$ npm <span class="keyword">install</span> jade -g</span><br></pre></td></tr></table></figure>
<h2 id="开始使用">开始使用</h2><p>创建 <code>index.jade</code> 文件</p>
<p><code>index.jade</code><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">doctype <span class="tag">html</span></span><br><span class="line"><span class="tag">html</span></span><br><span class="line">  head</span><br><span class="line">    title hanks<span class="class">.xyz</span></span><br><span class="line">  <span class="tag">body</span></span><br><span class="line">    <span class="tag">p</span> welcome to hanks.xyz</span><br></pre></td></tr></table></figure></p>
<p>就是这么简单，下面开始将 <code>jade</code> 文件渲染为 <code>html</code> 文件<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jade <span class="keyword">index</span>.jade</span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span><span class="tag">&lt;<span class="title">html</span>&gt;</span><span class="tag">&lt;<span class="title">head</span>&gt;</span><span class="tag">&lt;<span class="title">title</span>&gt;</span>hanks.xyz<span class="tag">&lt;/<span class="title">title</span>&gt;</span><span class="tag">&lt;/<span class="title">head</span>&gt;</span><span class="tag">&lt;<span class="title">body</span>&gt;</span><span class="tag">&lt;<span class="title">p</span>&gt;</span>welcome to hanks.xyz<span class="tag">&lt;/<span class="title">p</span>&gt;</span><span class="tag">&lt;/<span class="title">body</span>&gt;</span><span class="tag">&lt;/<span class="title">html</span>&gt;</span>%</span><br></pre></td></tr></table></figure></p>
<p>可以看到渲染出来的 <code>index.html</code> 文件是经过压缩过的。我们可以加速 <code>-P</code> 参数格式化渲染的 <code>index.html</code></p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jade -P <span class="keyword">index</span>.jade</span><br></pre></td></tr></table></figure>
<p>html:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>hanks.xyz<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">p</span>&gt;</span>welcome to hanks.xyz<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>还可以加上 <code>-w</code> 参数监听 jade 文件的变化，自动渲染刷新 html 文件</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jade -P -w <span class="keyword">index</span>.jade</span><br></pre></td></tr></table></figure>
<p> <img src="https://dn-coding-net-production-pp.qbox.me/62b171d5-8d4d-45e6-9d55-e40ffacb5140.gif" alt="动态渲染"> </p>
<h2 id="基本语法">基本语法</h2><h3 id="标签">标签</h3><p>默认，每行开始的<strong>第一个单词</strong>代表一个标签，可以是自定义的标签<br>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">p</span> welcome to hanks<span class="class">.xyz</span></span><br><span class="line"><span class="tag">h1</span> <span class="tag">h1</span> 标题</span><br><span class="line"><span class="tag">h2</span> <span class="tag">h2</span> 标题</span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;p&gt;</span>welcome <span class="keyword">to</span> hanks.xyz<span class="variable">&lt;/p&gt;</span></span><br><span class="line"><span class="variable">&lt;h1&gt;</span>h1 标题<span class="variable">&lt;/h1&gt;</span></span><br><span class="line"><span class="variable">&lt;h2&gt;</span>h2 标题<span class="variable">&lt;/h2&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>使用<strong>缩进</strong>代表标签嵌套关系</p>
<p>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span><span class="class">.title</span></span><br><span class="line">  <span class="tag">h1</span> title2</span><br><span class="line">  <span class="tag">p</span>  something</span><br><span class="line"><span class="tag">div</span></span><br><span class="line">  <span class="tag">div</span></span><br><span class="line">    <span class="tag">div</span>.<span class="function"><span class="title">info</span><span class="params">(name=<span class="string">"hanks"</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">h1</span>&gt;</span>title2<span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">p</span>&gt;</span> something<span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">name</span>=<span class="value">"hanks"</span> <span class="attribute">class</span>=<span class="value">"info"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="class_和_id">class 和 id</h3><p>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">h1</span><span class="class">.title</span></span><br><span class="line">h2<span class="id">#title</span></span><br><span class="line"><span class="id">#t_id</span></span><br><span class="line"><span class="id">#t_id</span>.title</span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">h1</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span><span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">h2</span> <span class="attribute">id</span>=<span class="value">"title"</span>&gt;</span><span class="tag">&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"t_id"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"t_id"</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>﻿### 属性</p>
<p>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">a</span><span class="params">(herf=<span class="string">"http://hanks.xyz"</span>)</span></span> hanks<span class="class">.xyz</span></span><br><span class="line">input#<span class="function"><span class="title">username</span><span class="params">(name=<span class="string">"username"</span>,type=<span class="string">"text"</span>,vaule=<span class="string">"jade"</span>)</span></span></span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">herf</span>=<span class="value">"http://hanks.xyz"</span>&gt;</span>hanks.xyz<span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">input</span> <span class="attribute">id</span>=<span class="value">"username"</span> <span class="attribute">name</span>=<span class="value">"username"</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">vaule</span>=<span class="value">"jade"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="Plain_Text">Plain Text</h3><p>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">p</span>.</span><br><span class="line">  <span class="number">1</span><span class="class">.aa</span></span><br><span class="line">  <span class="number">2</span><span class="class">.vv</span></span><br><span class="line">  <span class="number">3</span>.cc</span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span></span><br><span class="line">  1.aa</span><br><span class="line">  2.vv</span><br><span class="line">  3.cc</span><br><span class="line"><span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>注意 <code>p</code> 标签后面紧跟着一个 <code>.</code></p>
<p>jade:<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">p.</span><br><span class="line">  1.aa<span class="variable">&lt;strong&gt;</span>AA<span class="variable">&lt;/strong&gt;</span></span><br><span class="line">  2.vv</span><br><span class="line">  3.cc</span><br><span class="line">p</span><br><span class="line">  |<span class="string"> 1.aa</span><br><span class="line">  strong AA</span><br><span class="line">  </span>|<span class="string"> 2.vv</span><br><span class="line">  </span>|<span class="string"> 3.cc</span></span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span></span><br><span class="line">  1.aa<span class="tag">&lt;<span class="title">strong</span>&gt;</span>AA<span class="tag">&lt;/<span class="title">strong</span>&gt;</span></span><br><span class="line">  2.vv</span><br><span class="line">  3.cc</span><br><span class="line"><span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">p</span>&gt;</span>1.aa<span class="tag">&lt;<span class="title">strong</span>&gt;</span>AA<span class="tag">&lt;/<span class="title">strong</span>&gt;</span>2.vv</span><br><span class="line">  3.cc</span><br><span class="line"><span class="tag">&lt;/<span class="title">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="注释">注释</h3><p>jade:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span></span><br><span class="line">  <span class="comment">// h1 单行注释，输出到源文件</span></span><br><span class="line">  <span class="comment">//- h3 非缓冲注释</span></span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">    这是一个</span><br><span class="line">    多行注释</span><br></pre></td></tr></table></figure></p>
<p>html:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- h1 单行注释，输出到源文件--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span><br><span class="line">  这是一个</span><br><span class="line">  多行注释</span><br><span class="line">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>jade 使用双斜线 <code>//</code>进行单行注释；<br>如果不想让注释的内容显示到生成的 html 代码中，可以在双斜线 <code>//</code> 后跟一个单横线<code>-</code>；<br>双斜线 <code>//</code> 后面的注释内容换行并缩进可进行块级注释</p>
<p>参考文章：<br><a href="http://blog.jayself.com/2014/07/28/Jade/" target="_blank" rel="external">Jade中文教程</a><br><a href="http://www.imooc.com/learn/259" target="_blank" rel="external">慕课网视频-带你学习Jade模板引擎</a></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>优秀的模板引擎 <code>Jade</code> ，减少写代码，提高可读性，提高生活质量。。。</p>]]>
    
    </summary>
    
      <category term="Jade" scheme="http://hanks.xyz/tags/Jade/"/>
    
      <category term="学习" scheme="http://hanks.xyz/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Mac 上利用 launchctl 开启定时任务]]></title>
    <link href="http://hanks.xyz/2016/03/28/mac-launchctl/"/>
    <id>http://hanks.xyz/2016/03/28/mac-launchctl/</id>
    <published>2016-03-28T14:44:35.000Z</published>
    <updated>2016-03-28T15:08:54.000Z</updated>
    <content type="html"><![CDATA[<p>前几天写了 <code>Python</code> 脚本进行爬虫，现在利用 <code>launchctl</code> 来定时开启爬虫任务，<code>launchctl</code> 通过 <code>plist</code> 属性列表（Property List）配置。<code>Linux</code> 和 <code>Mac</code> 通用的 <code>crontab</code> 时间间隔可以精确到分钟，而<code>launchctl</code> 时间间隔可以精确到<strong>每秒</strong>。<br><a id="more"></a></p>
<h2 id="创建定时运行的任务脚本">创建定时运行的任务脚本</h2><p><code>run.sh</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/bash</span><br><span class="line"></span></span><br><span class="line"><span class="comment"># 记录一下开始时间</span></span><br><span class="line"><span class="built_in">echo</span> `date` &gt;&gt; <span class="variable">$HOME</span>/<span class="built_in">log</span> &amp;&amp;</span><br><span class="line"><span class="comment"># 进入 /Users/hanks/spider 目录</span></span><br><span class="line"><span class="built_in">cd</span> /Users/hanks/spider &amp;&amp;</span><br><span class="line"><span class="comment"># 激活 python 虚拟环境 virtualenv</span></span><br><span class="line"><span class="built_in">source</span> venv/bin/activate &amp;&amp;</span><br><span class="line"><span class="comment"># 运行爬虫脚本</span></span><br><span class="line">scrapy runspider spider.py &amp;&amp;</span><br><span class="line"><span class="comment"># 运行完成</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'finish'</span> &gt;&gt; <span class="variable">$HOME</span>/<span class="built_in">log</span></span><br></pre></td></tr></table></figure></p>
<p><code>&amp;&amp;</code> 连接两条命令，当前一条执行完才会继续下一条命令。</p>
<h2 id="创建定时任务文件">创建定时任务文件</h2><p><code>task.plsit</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">plist</span> <span class="attribute">version</span>=<span class="value">"1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>xyz.hanks.spider<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 要运行的程序， 如果省略这个选项，会把ProgramArguments的第一个</span><br><span class="line">    元素作为要运行的程序 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>Program<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/zhanks/work/Bookshelf/run.sh<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 每天18：30 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StartCalendarInterval<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">key</span>&gt;</span>Minute<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">integer</span>&gt;</span>30<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">key</span>&gt;</span>Hour<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">integer</span>&gt;</span>18<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 运行间隔，与StartCalenderInterval使用其一，单位为&gt;秒 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;key&gt;StartInterval&lt;/key&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- integer&gt;5&lt;/integer&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准错误输出文件，错误日志 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StandardErrorPath<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/zhanks/run-err.log<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="title">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="将定时任务加入系统">将定时任务加入系统</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加载 task.plist</span></span><br><span class="line"><span class="variable">$ </span>launchctl load task.plist</span><br></pre></td></tr></table></figure>
<p>查看是否添加成功<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ launchctl <span class="built_in">list</span> | grep hanks</span><br><span class="line">-	<span class="number">0</span>	xyz.hanks.spider</span><br></pre></td></tr></table></figure></p>
<p>如果像移除的话</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 移除 xyz.hanks.spider</span></span><br><span class="line">$ launchctl <span class="keyword">remove</span> xyz.hanks.spider</span><br></pre></td></tr></table></figure>
<p>其他完整的 plist 文件格式参数。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>  </span><br><span class="line"><span class="doctype">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="title">plist</span> <span class="attribute">version</span>=<span class="value">"1.0"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="title">dict</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 名称，要全局唯一 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>xyz.hanks.spider<span class="tag">&lt;/<span class="title">string</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 要运行的程序， 如果省略这个选项，会把ProgramArguments的第一个</span><br><span class="line">    元素作为要运行的程序 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>Program<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/hanks/run.sh<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 命令， 第一个为命令，其它为参数--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">array</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/hanks/run.sh<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">array</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 运行时间 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StartCalendarInterval<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="title">key</span>&gt;</span>Minute<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>30<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="title">key</span>&gt;</span>Hour<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>9<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="title">key</span>&gt;</span>Day<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>1<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="title">key</span>&gt;</span>Month<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>5<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- 0和7都指星期天 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">key</span>&gt;</span>Weekday<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="title">integer</span>&gt;</span>0<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="title">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 运行间隔，与StartCalenderInterval使用其一，单位为秒 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StartInterval<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">integer</span>&gt;</span>30<span class="tag">&lt;/<span class="title">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准输入文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StandardInPath<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/hanks/run-in.log<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准输出文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StandardOutPath<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/hanks/run-out.log<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准错误输出文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">key</span>&gt;</span>StandardErrorPath<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">string</span>&gt;</span>/Users/hanks/run-err.log<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">dict</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="title">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>Linux</code> 和 <code>Mac</code> 通用的 <code>crontab</code> 定时任务: <a href="http://linuxtools-rst.readthedocs.org/zh_CN/latest/tool/crontab.html" target="_blank" rel="external">crontab 定时任务</a></p>
<p>参考文档<br><a href="http://blog.csdn.net/lgt633744/article/details/45932035" target="_blank" rel="external">Mac下添加定时任务</a></p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>前几天写了 <code>Python</code> 脚本进行爬虫，现在利用 <code>launchctl</code> 来定时开启爬虫任务，<code>launchctl</code> 通过 <code>plist</code> 属性列表（Property List）配置。<code>Linux</code> 和 <code>Mac</code> 通用的 <code>crontab</code> 时间间隔可以精确到分钟，而<code>launchctl</code> 时间间隔可以精确到<strong>每秒</strong>。<br>]]>
    
    </summary>
    
      <category term="Mac" scheme="http://hanks.xyz/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[一张图让开发人员理解色相、亮度、饱和度]]></title>
    <link href="http://hanks.xyz/2016/03/26/color-board/"/>
    <id>http://hanks.xyz/2016/03/26/color-board/</id>
    <published>2016-03-26T04:06:26.000Z</published>
    <updated>2016-03-26T04:47:15.000Z</updated>
    <content type="html"><![CDATA[<p>作为开发人员经常需要和设计师合（si）作（bi）,虽然设计师给的设计图上给出了颜色，但是有时候会对你说，“这个颜色的 <code>饱和度</code>不够，你再增加一点”，天呐，我可不懂什么是饱和度。<br>还有 <code>色相</code>、<code>亮度</code>、<code>饱和度</code>、<code>透明度</code>（这个还是理解的）等名词。</p>
<p><strong>色相</strong> ：就是颜色的主色调，比如红、绿、蓝。<br><strong>亮度</strong> ：就是颜色的明暗，就好比你再明亮的光线下看一个红色的纸板很昏暗的光线下看红色纸板那种感觉。<br><strong>饱和度</strong> ：就是颜色的鲜艳程度，饱和度越大，看起来越鲜艳。</p>
<a id="more"></a>
<p>下图是 Android Studio 自带的调色板：<br> <img src="https://dn-coding-net-production-pp.qbox.me/7f817dcb-4265-412e-a3af-3c2551893a74.png" alt="调色板"> </p>
<h3 id="调色相">调色相</h3><p> <img src="https://dn-coding-net-production-pp.qbox.me/1901db88-656f-4799-8c54-62aef45344bd.gif" alt="色相"> </p>
<h3 id="调整亮度">调整亮度</h3><p> <img src="https://dn-coding-net-production-pp.qbox.me/c1d994d9-a540-4ada-88a1-e01046a4a427.gif" alt="亮度"> </p>
<h3 id="调整饱和度">调整饱和度</h3><p> <img src="https://dn-coding-net-production-pp.qbox.me/71714b55-9929-4006-b7f6-cb972f15eba5.gif" alt="饱和度"> </p>
<h3 id="RGB_模式和_CMYK_模式">RGB 模式和 CMYK 模式</h3><p>RGB： red  green blue ， 三原色很好理解<br>CMYK： 印刷四分色模式 ，使用这种模式的颜色都可以被打印出来（rgb模式下有的饱和度大的不能被打印出来）。</p>
<p>  <img src="https://dn-coding-net-production-pp.qbox.me/f4821853-6867-44e1-a0d5-e6a872f72e62.png" alt="RGB 和 CMYK"> </p>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>作为开发人员经常需要和设计师合（si）作（bi）,虽然设计师给的设计图上给出了颜色，但是有时候会对你说，“这个颜色的 <code>饱和度</code>不够，你再增加一点”，天呐，我可不懂什么是饱和度。<br>还有 <code>色相</code>、<code>亮度</code>、<code>饱和度</code>、<code>透明度</code>（这个还是理解的）等名词。</p>
<p><strong>色相</strong> ：就是颜色的主色调，比如红、绿、蓝。<br><strong>亮度</strong> ：就是颜色的明暗，就好比你再明亮的光线下看一个红色的纸板很昏暗的光线下看红色纸板那种感觉。<br><strong>饱和度</strong> ：就是颜色的鲜艳程度，饱和度越大，看起来越鲜艳。</p>]]>
    
    </summary>
    
      <category term="设计" scheme="http://hanks.xyz/tags/%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Scrapy 抓取 Mediuem 网站 Android 标签下的文章]]></title>
    <link href="http://hanks.xyz/2016/03/21/scrapy-mediuem-android/"/>
    <id>http://hanks.xyz/2016/03/21/scrapy-mediuem-android/</id>
    <published>2016-03-20T16:22:38.000Z</published>
    <updated>2016-03-20T16:35:37.000Z</updated>
    <content type="html"><![CDATA[<p>前面实现了对 <strong><a href="http://hanks.xyz/2016/03/19/scrapy-jianshu-it/">简书上面的程序员专题抓取文章</a></strong>， 接下来开始 <strong><a href="https://medium.com/tag/android" target="_blank" rel="external">Medium</a></strong> 网站的 <code>Android</code> 标签的文章。</p>
<a id="more"></a>
<p><code>medium_spider.py</code> 代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MediumSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="string">"""docstring for MediumSpider"""</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">"mediumspider"</span></span><br><span class="line"></span><br><span class="line">    start_urls = [<span class="string">"https://medium.com/tag/android"</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> postitem <span class="keyword">in</span> response.css(<span class="string">'.postItem'</span>):</span><br><span class="line">            url = postitem.css(<span class="string">'article a::attr(href)'</span>).extract()[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># get title</span></span><br><span class="line">            <span class="keyword">if</span> len( postitem.css(<span class="string">'article h2::text'</span>).extract() ) != <span class="number">0</span> :</span><br><span class="line">                title = postitem.css(<span class="string">'article h2::text'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">elif</span> len( postitem.css(<span class="string">'article h3::text'</span>).extract() ) != <span class="number">0</span> :</span><br><span class="line">                title = postitem.css(<span class="string">'article h3::text'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">elif</span> len( postitem.css(<span class="string">'article h4::text'</span>).extract()) != <span class="number">0</span> :</span><br><span class="line">                title = postitem.css(<span class="string">'article h4::text'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                 title = <span class="string">"Error get title"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment"># get subtitle</span></span><br><span class="line">            <span class="keyword">if</span> len( postitem.css(<span class="string">'.section-inner h4::text'</span>).extract()) != <span class="number">0</span> :</span><br><span class="line">                subtitle = postitem.css(<span class="string">'.section-inner h4::text'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">elif</span> len( postitem.css(<span class="string">'.section-inner p::text'</span>).extract()) != <span class="number">0</span> :</span><br><span class="line">                subtitle = postitem.css(<span class="string">'.section-inner p::text'</span>).extract()[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                subtitle = <span class="string">"No subtitle"</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">yield</span> &#123;</span><br><span class="line">                <span class="string">"title"</span>:title,</span><br><span class="line">                <span class="string">"subtitle"</span>:subtitle,</span><br><span class="line">                <span class="string">"url"</span>:url,</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p>运行 <code>scrapy runspider medium_spider.py -o res.json</code> ，并且导出 <code>json</code>文件。<br><code>res.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/sebs-top-tips/analyse-data-flows-without-the-debugger-android-studio-protips-3-ef2885aaffd9?source=tags---------1"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"Did you know that you can figure…"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Analyse data flows without the debugger (Android Studio protips #3)"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/imgur-engineering/design-at-imgur-from-188-colors-to-12-bb6a1a8a26d9?source=tags---------2"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"Let’s take a little look back in time, through the history of Imgur. In 2009, Imgur started…"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Design at Imgur: From 188 Colors to 12"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@raveeshbhalla/android-n-notifications-a-design-analysis-cec09f1cc5bf?source=tags---------3"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"It’s been a few days since Google surprised us all by releasing a developer preview for Android N, more than two months before Google I/O. As "</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Android N Notifications: A Design Analysis"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@shollmann/picasso-universal-image-loader-or-glide-that-s-the-question-af34fa7f5e63?source=tags---------4"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"No subtitle"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Error get title"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@cesarmcferreira/building-android-apps-30-things-that-experience-made-me-learn-the-hard-way-313680430bf9?source=tags---------5"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"No subtitle"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Building Android Apps — 30 things that experience made me learn the hard way"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@hitherejoe/android-n-introducing-picture-in-picture-for-android-tv-35f2392fb609?source=tags---------6"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"Last week we saw the surprise release of the…"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Android N: Introducing Picture-in-Picture for Android TV"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@nielsz/android-quality-with-mvp-espresso-junit-jacoco-and-sonarqube-3430d9ee4a4a?source=tags---------7"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"In my "</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Android Quality with MVP, Espresso, JUnit, JaCoCo and SonarQube"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://labs.ribot.co.uk/android-application-architecture-8b6e34acda65?source=tags---------8"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"Our journey from standard Activities and AsyncTasks to a modern MVP-based architecture powered by RxJava."</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Android Application Architecture"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@hamen/android-library-aar-and-javadoc-6859898cad28?source=tags---------9"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"As an Android developer, I’m used to ask Android Studio/Intellij Idea for documentation constantly. I have even replaced the shortcut: now, it’s F1, the old-fashion help key. When I want to know about a method or a class, I hit F1 and the JavaDoc shows up: smooth. How does…"</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"Android Library AAR and Javadoc"</span></span><br><span class="line">    </span>&#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        "<span class="attribute">url</span>": <span class="value"><span class="string">"https://medium.com/@p.tournaris/rxjava-rxreplayingshare-emit-only-once-b19acd61b469?source=tags---------10"</span></span>,</span><br><span class="line">        "<span class="attribute">subtitle</span>": <span class="value"><span class="string">"Following up on my "</span></span>,</span><br><span class="line">        "<span class="attribute">title</span>": <span class="value"><span class="string">"RxJava —RxReplayingShare, Emit only Once"</span></span><br><span class="line">    </span>&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文章来自： <a href="http://hanks.xyz">http://hanks.xyz</a></p>
</blockquote>
]]></content>
    <summary type="html">
    <![CDATA[<p>前面实现了对 <strong><a href="http://hanks.xyz/2016/03/19/scrapy-jianshu-it/">简书上面的程序员专题抓取文章</a></strong>， 接下来开始 <strong><a href="https://medium.com/tag/android">Medium</a></strong> 网站的 <code>Android</code> 标签的文章。</p>]]>
    
    </summary>
    
      <category term="Android" scheme="http://hanks.xyz/tags/Android/"/>
    
      <category term="Python" scheme="http://hanks.xyz/tags/Python/"/>
    
      <category term="Scrapy" scheme="http://hanks.xyz/tags/Scrapy/"/>
    
  </entry>
  
</feed>
